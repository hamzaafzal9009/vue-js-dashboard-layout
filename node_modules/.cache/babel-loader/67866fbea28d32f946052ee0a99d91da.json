{"remainingRequest":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/thread-loader/dist/cjs.js!/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/src/components/Registration/VehicleInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/src/components/Registration/VehicleInformation.vue","mtime":1619377242810},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/package.json","mtime":1618948430363},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1618923176918},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/thread-loader/dist/cjs.js","mtime":1618923177865},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/babel-loader/lib/index.js","mtime":1618923163808},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1618923176918},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/vue-loader/lib/index.js","mtime":1618923178100}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL0xpYnJhcnkvV2ViU2VydmVyL0RvY3VtZW50cy9Qcm9qZWN0cy92aXRlL20tZHJpdmVyLWRhc2hib2FyZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiLi4vLi4vcGx1Z2lucy9maXJlYmFzZSI7CmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uLy4uL21haW4uanMiOwp2YXIgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKdmFyIHJlZiA9IGRiLmNvbGxlY3Rpb24oInZlaGljbGVzIik7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgYWN0aW9uRGF0YTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBtYW51ZmFjdHVyZXI6ICIiLAogICAgICAgICAgbW9kZWxOYW1lOiAiIiwKICAgICAgICAgIG1vZGVsWWVhcjogIiIsCiAgICAgICAgICBsaWNlbnNlUGxhdGVOdW1iZXI6ICIiLAogICAgICAgICAgdmVoaWNsZUNvbG9yOiAiIiwKICAgICAgICAgIG51bWJlck9mU2VhdHM6ICIiCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1WYWx1ZXM6IHt9LAogICAgICBzaG93TG9hZGluZzogZmFsc2UsCiAgICAgIHJlcXVpcmVkUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIlRoaXMgaXMgcmVxdWlyZWQiOwogICAgICB9XSwKICAgICAgZW1haWxSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAiRS1tYWlsIGlzIHJlcXVpcmVkIjsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gLy4rQC4rXC4uKy8udGVzdCh2KSB8fCAiRS1tYWlsIG11c3QgYmUgdmFsaWQiOwogICAgICB9XQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuYXV0aFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRoVXNlciIpKTsKCiAgICBpZiAodGhpcy5hY3Rpb25EYXRhLm1hbnVmYWN0dXJlciAhPSAiIiAmJiB0aGlzLmFjdGlvbkRhdGEubW9kZWxOYW1lICE9ICIiICYmIHRoaXMuYWN0aW9uRGF0YS5tb2RlbFllYXIgIT0gIiIgJiYgdGhpcy5hY3Rpb25EYXRhLmxpY2Vuc2VQbGF0ZU51bWJlciAhPSAiIiAmJiB0aGlzLmFjdGlvbkRhdGEudmVoaWNsZUNvbG9yICE9ICIiICYmIHRoaXMuYWN0aW9uRGF0YS5udW1iZXJPZlNlYXRzICE9ICIiKSB7CiAgICAgIHRoaXMuZm9ybVZhbHVlcyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuYWN0aW9uRGF0YSk7CiAgICB9IGVsc2UgewogICAgICBmaXJlYmFzZS5maXJlc3RvcmUoKS5jb2xsZWN0aW9uKCJ2ZWhpY2xlcyIpLmRvYyh0aGlzLmF1dGhVc2VyLmRyaXZlcklkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgIF90aGlzLmZvcm1WYWx1ZXMgPSBfb2JqZWN0U3ByZWFkKHt9LCBzbmFwc2hvdC5kYXRhKCkpOwogICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBlcnJvckNvZGU6IGVycm9yLmNvZGUsCiAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UKICAgICAgICB9OwogICAgICB9KTsKICAgICAgdGhpcy5mb3JtVmFsdWVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYXV0aFVzZXIiKSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVEYXRhOiBmdW5jdGlvbiB1cGRhdGVEYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICByZWYuZG9jKHRoaXMuYXV0aFVzZXIuZHJpdmVySWQpLnVwZGF0ZSh0aGlzLmZvcm1WYWx1ZXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJzdWNjZXNzTWVzc2FnZSIsICJVcGRhdGVkIFN1Y2Nlc3NmdWwiKTsKCiAgICAgICAgX3RoaXMyLiRlbWl0KCJyZWZyZXNoIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCLwn5qAIH4gZmlsZTogVmVoaWNsZS52dWUgfiBsaW5lIDI2MyB+IHVwZGF0ZURhdGEgfiBlcnJvciIsIGVycm9yKTsKICAgICAgICBfdGhpczIuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["VehicleInformation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,OAAA,QAAA;AACA,SAAA,YAAA;AACA,IAAA,EAAA,GAAA,QAAA,CAAA,SAAA,EAAA;AACA,IAAA,GAAA,GAAA,EAAA,CAAA,UAAA,CAAA,UAAA,CAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA;AACA,UAAA,YAAA,EAAA,EADA;AAEA,UAAA,SAAA,EAAA,EAFA;AAGA,UAAA,SAAA,EAAA,EAHA;AAIA,UAAA,kBAAA,EAAA,EAJA;AAKA,UAAA,YAAA,EAAA,EALA;AAMA,UAAA,aAAA,EAAA;AANA,SAAA;AAQA;AAXA;AADA,GADA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,KAFA;AAGA,MAAA,aAAA,EAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA,IAAA,kBAAA;AAAA,OAAA,CAHA;AAIA,MAAA,UAAA,EAAA,CACA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA,IAAA,oBAAA;AAAA,OADA,EAEA,UAAA,CAAA;AAAA,eAAA,YAAA,IAAA,CAAA,CAAA,KAAA,sBAAA;AAAA,OAFA;AAJA,KAAA;AASA,GA1BA;AA2BA,EAAA,OA3BA,qBA2BA;AAAA;;AACA,SAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;;AACA,QACA,KAAA,UAAA,CAAA,YAAA,IAAA,EAAA,IACA,KAAA,UAAA,CAAA,SAAA,IAAA,EADA,IAEA,KAAA,UAAA,CAAA,SAAA,IAAA,EAFA,IAGA,KAAA,UAAA,CAAA,kBAAA,IAAA,EAHA,IAIA,KAAA,UAAA,CAAA,YAAA,IAAA,EAJA,IAKA,KAAA,UAAA,CAAA,aAAA,IAAA,EANA,EAOA;AACA,WAAA,UAAA,qBAAA,KAAA,UAAA;AACA,KATA,MASA;AACA,MAAA,QAAA,CACA,SADA,GAEA,UAFA,CAEA,UAFA,EAGA,GAHA,CAGA,KAAA,QAAA,CAAA,QAHA,EAIA,GAJA,GAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,qBAAA,QAAA,CAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,OARA,EASA,KATA,CASA,UAAA,KAAA;AAAA,eAAA;AACA,UAAA,SAAA,EAAA,KAAA,CAAA,IADA;AAEA,UAAA,YAAA,EAAA,KAAA,CAAA;AAFA,SAAA;AAAA,OATA;AAaA,WAAA,UAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;AACA;AACA,GAtDA;AAuDA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,MAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,MAAA,GAAA,CACA,GADA,CACA,KAAA,QAAA,CAAA,QADA,EAEA,MAFA,CAEA,KAAA,UAFA,EAGA,IAHA,CAGA,YAAA;AACA,QAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA,QAAA,YAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,oBAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,SAAA;AACA,OAPA,EAQA,KARA,CAQA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CACA,wDADA,EAEA,KAFA;AAIA,QAAA,MAAA,CAAA,WAAA,GAAA,KAAA;AACA,QAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA,OAfA;AAgBA;AApBA;AAvDA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"12\">\n        <el-input\n          placeholder=\"Manufacturer...\"\n          v-model=\"formValues.manufacturer\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-input\n          placeholder=\"Modal...\"\n          v-model=\"formValues.modelName\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-input\n          placeholder=\"Manufacture Year...\"\n          v-model=\"formValues.modelYear\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-input\n          placeholder=\"Color...\"\n          v-model=\"formValues.vehicleColor\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-input\n          placeholder=\"License Plate...\"\n          v-model=\"formValues.licensePlateNumber\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-input\n          placeholder=\"No. of Seats...\"\n          v-model=\"formValues.numberOfSeats\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n    </el-row>\n    <el-button type=\"primary\" @click=\"updateData\" :loading=\"showLoading\"\n      >Update</el-button\n    >\n  </div>\n</template>\n<script>\nimport firebase from \"../../plugins/firebase\";\nimport { EventService } from \"../../main.js\";\nconst db = firebase.firestore();\nconst ref = db.collection(\"vehicles\");\nexport default {\n  props: {\n    actionData: {\n      type: Object,\n      default() {\n        return {\n          manufacturer: \"\",\n          modelName: \"\",\n          modelYear: \"\",\n          licensePlateNumber: \"\",\n          vehicleColor: \"\",\n          numberOfSeats: \"\",\n        };\n      },\n    },\n  },\n  data() {\n    return {\n      formValues: {},\n      showLoading: false,\n      requiredRules: [(v) => !!v || \"This is required\"],\n      emailRules: [\n        (v) => !!v || \"E-mail is required\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail must be valid\",\n      ],\n    };\n  },\n  created() {\n    this.authUser = JSON.parse(localStorage.getItem(\"authUser\"));\n    if (\n      this.actionData.manufacturer != \"\" &&\n      this.actionData.modelName != \"\" &&\n      this.actionData.modelYear != \"\" &&\n      this.actionData.licensePlateNumber != \"\" &&\n      this.actionData.vehicleColor != \"\" &&\n      this.actionData.numberOfSeats != \"\"\n    ) {\n      this.formValues = { ...this.actionData };\n    } else {\n      firebase\n        .firestore()\n        .collection(\"vehicles\")\n        .doc(this.authUser.driverId)\n        .get()\n        .then((snapshot) => {\n          this.formValues = { ...snapshot.data() };\n          this.showLoading = false;\n        })\n        .catch((error) => ({\n          errorCode: error.code,\n          errorMessage: error.message,\n        }));\n      this.formValues = JSON.parse(localStorage.getItem(\"authUser\"));\n    }\n  },\n  methods: {\n    updateData() {\n      EventService.$emit(\"loading\", \"show\");\n      this.showLoading = true;\n      ref\n        .doc(this.authUser.driverId)\n        .update(this.formValues)\n        .then(() => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\"successMessage\", \"Updated Successful\");\n          this.$emit(\"refresh\");\n        })\n        .catch((error) => {\n          console.log(\n            \"ðŸš€ ~ file: Vehicle.vue ~ line 263 ~ updateData ~ error\",\n            error\n          );\n          this.showLoading = false;\n          EventService.$emit(\"loading\", \"hide\");\n        });\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/components/Registration"}]}