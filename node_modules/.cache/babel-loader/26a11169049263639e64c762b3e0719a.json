{"remainingRequest":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/src/components/Registration/PersonalInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/src/components/Registration/PersonalInformation.vue","mtime":1619376989164},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/package.json","mtime":1618948430363},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1618923176918},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/babel-loader/lib/index.js","mtime":1618923163808},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1618923176918},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/vue-loader/lib/index.js","mtime":1618923178100}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL0xpYnJhcnkvV2ViU2VydmVyL0RvY3VtZW50cy9Qcm9qZWN0cy92aXRlL20tZHJpdmVyLWRhc2hib2FyZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiLi4vLi4vcGx1Z2lucy9maXJlYmFzZSI7CnZhciBkYiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpOwp2YXIgcmVmID0gZGIuY29sbGVjdGlvbigiZHJpdmVycyIpOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi8uLi9tYWluLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBhY3Rpb25EYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRyaXZlckZpcnN0TmFtZTogIiIsCiAgICAgICAgICBkcml2ZXJMYXN0TmFtZTogIiIsCiAgICAgICAgICBkcml2ZXJFbWFpbDogIiIsCiAgICAgICAgICBkcml2ZXJHZW5kZXI6ICIiLAogICAgICAgICAgZHJpdmVySG9tZUFkZHJlc3M6ICIiLAogICAgICAgICAgZHJpdmVyUGhvbmVOdW1iZXI6ICIiLAogICAgICAgICAgZHJpdmVyRG9iOiAiIgogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtVmFsdWVzOiB7fSwKICAgICAgcmVxdWlyZWRSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAiVGhpcyBpcyByZXF1aXJlZCI7CiAgICAgIH1dLAogICAgICBlbWFpbFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICJFLW1haWwgaXMgcmVxdWlyZWQiOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICJFLW1haWwgbXVzdCBiZSB2YWxpZCI7CiAgICAgIH1dCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmFjdGlvbkRhdGEuZHJpdmVyRmlyc3ROYW1lICE9ICIiICYmIHRoaXMuYWN0aW9uRGF0YS5kcml2ZXJMYXN0TmFtZSAhPSAiIiAmJiB0aGlzLmFjdGlvbkRhdGEuZHJpdmVyRW1haWwgIT0gIiIgJiYgdGhpcy5hY3Rpb25EYXRhLmRyaXZlckdlbmRlciAhPSAiIiAmJiB0aGlzLmFjdGlvbkRhdGEuZHJpdmVySG9tZUFkZHJlc3MgIT0gIiIgJiYgdGhpcy5hY3Rpb25EYXRhLmRyaXZlclBob25lTnVtYmVyICE9ICIiICYmIHRoaXMuYWN0aW9uRGF0YS5kcml2ZXJEb2IgIT0gIiIpIHsKICAgICAgdGhpcy5mb3JtVmFsdWVzID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5hY3Rpb25EYXRhKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZm9ybVZhbHVlcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImF1dGhVc2VyIikpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlRGF0YTogZnVuY3Rpb24gdXBkYXRlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7IC8vICAgY29uc29sZS5sb2codGhpcy5hY3Rpb25EYXRhKTsKCiAgICAgIHJlZi5kb2ModGhpcy5hY3Rpb25EYXRhLmRyaXZlcklkKS51cGRhdGUodGhpcy5mb3JtVmFsdWVzKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiU3VjY2Vzc2Z1bGx5IFVwZGF0ZWQgWW91ciBJbmZvcm1hdGlvbi4iKTsgLy8gdGhpcy5zZXROb3RpZnlNZXNzYWdlKCJTdWNjZXNzZnVsbHkgVXBkYXRlZCBZb3VyIEluZm9ybWF0aW9uLiIpOwoKICAgICAgICBfdGhpcy4kZW1pdCgicmVmcmVzaCIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImVycm9yTWVzc2FnZSIsICJTb21ldGhpbmcgd2VudCB3cm9uZy4iKTsgLy8gdGhpcy5zZXROb3RpZnlFcnJvcigiU29tZXRoaW5nIHdlbnQgd3JvbmciKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["PersonalInformation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,OAAA,QAAA;AACA,IAAA,EAAA,GAAA,QAAA,CAAA,SAAA,EAAA;AACA,IAAA,GAAA,GAAA,EAAA,CAAA,UAAA,CAAA,SAAA,CAAA;AACA,SAAA,YAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA;AACA,UAAA,eAAA,EAAA,EADA;AAEA,UAAA,cAAA,EAAA,EAFA;AAGA,UAAA,WAAA,EAAA,EAHA;AAIA,UAAA,YAAA,EAAA,EAJA;AAKA,UAAA,iBAAA,EAAA,EALA;AAMA,UAAA,iBAAA,EAAA,EANA;AAOA,UAAA,SAAA,EAAA;AAPA,SAAA;AASA;AAZA;AADA,GADA;AAiBA,EAAA,IAjBA,kBAiBA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA,IAAA,kBAAA;AAAA,OAAA,CAFA;AAGA,MAAA,UAAA,EAAA,CACA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA,IAAA,oBAAA;AAAA,OADA,EAEA,UAAA,CAAA;AAAA,eAAA,YAAA,IAAA,CAAA,CAAA,KAAA,sBAAA;AAAA,OAFA;AAHA,KAAA;AAQA,GA1BA;AA2BA,EAAA,OA3BA,qBA2BA;AACA,QACA,KAAA,UAAA,CAAA,eAAA,IAAA,EAAA,IACA,KAAA,UAAA,CAAA,cAAA,IAAA,EADA,IAEA,KAAA,UAAA,CAAA,WAAA,IAAA,EAFA,IAGA,KAAA,UAAA,CAAA,YAAA,IAAA,EAHA,IAIA,KAAA,UAAA,CAAA,iBAAA,IAAA,EAJA,IAKA,KAAA,UAAA,CAAA,iBAAA,IAAA,EALA,IAMA,KAAA,UAAA,CAAA,SAAA,IAAA,EAPA,EAQA;AACA,WAAA,UAAA,qBAAA,KAAA,UAAA;AACA,KAVA,MAUA;AACA,WAAA,UAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;AACA;AACA,GAzCA;AA0CA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,MAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA,EADA,CAEA;;AACA,MAAA,GAAA,CACA,GADA,CACA,KAAA,UAAA,CAAA,QADA,EAEA,MAFA,CAEA,KAAA,UAFA,EAGA,IAHA,CAGA,YAAA;AACA,QAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AAEA,QAAA,YAAA,CAAA,KAAA,CACA,gBADA,EAEA,wCAFA,EAHA,CAOA;;AAEA,QAAA,KAAA,CAAA,KAAA,CAAA,SAAA;AACA,OAbA,EAcA,KAdA,CAcA,YAAA;AACA,QAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AAEA,QAAA,YAAA,CAAA,KAAA,CAAA,cAAA,EAAA,uBAAA,EAHA,CAIA;AACA,OAnBA;AAoBA;AAxBA;AA1CA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :md=\"8\">\n        <el-input\n          type=\"text\"\n          placeholder=\"First Name\"\n          v-model=\"formValues.driverFirstName\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :md=\"8\">\n        <el-input\n          type=\"text\"\n          placeholder=\"Last Name\"\n          v-model=\"formValues.driverLastName\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :md=\"8\">\n        <el-input\n          type=\"email\"\n          placeholder=\"Email\"\n          v-model=\"formValues.driverEmail\"\n          :rules=\"emailRules\"\n        ></el-input>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :md=\"12\">\n        <el-input\n          type=\"text\"\n          placeholder=\"Date Of Birth (MM/DD/YYYY)\"\n          v-model=\"formValues.driverDob\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :md=\"12\">\n        <el-row>\n          <el-col :span=\"6\"><h4>Gender:</h4></el-col>\n          <el-col v-for=\"(item, i) in ['Male', 'Female']\" :key=\"i\" :span=\"6\">\n            <el-button\n              :type=\"formValues.driverGender === item ? 'primary' : ''\"\n              @click=\"formValues.driverGender = item\"\n              >{{ item }}</el-button\n            >\n          </el-col>\n        </el-row>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"24\">\n        <el-input\n          type=\"textarea\"\n          :rows=\"3\"\n          :rules=\"requiredRules\"\n          v-model=\"formValues.driverHomeAddress\"\n          placeholder=\"Please input\"\n        >\n        </el-input>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\" class=\"mt-2\">\n      <el-col :span=\"12\">\n        <el-button type=\"warning\" class=\"float-right\" @click=\"$emit('close')\">\n          Cancel\n        </el-button>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-button type=\"primary\" @click=\"updateData()\">\n          Save\n        </el-button>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\nimport firebase from \"../../plugins/firebase\";\nconst db = firebase.firestore();\nconst ref = db.collection(\"drivers\");\nimport { EventService } from \"../../main.js\";\nexport default {\n  props: {\n    actionData: {\n      type: Object,\n      default() {\n        return {\n          driverFirstName: \"\",\n          driverLastName: \"\",\n          driverEmail: \"\",\n          driverGender: \"\",\n          driverHomeAddress: \"\",\n          driverPhoneNumber: \"\",\n          driverDob: \"\",\n        };\n      },\n    },\n  },\n  data() {\n    return {\n      formValues: {},\n      requiredRules: [(v) => !!v || \"This is required\"],\n      emailRules: [\n        (v) => !!v || \"E-mail is required\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail must be valid\",\n      ],\n    };\n  },\n  created() {\n    if (\n      this.actionData.driverFirstName != \"\" &&\n      this.actionData.driverLastName != \"\" &&\n      this.actionData.driverEmail != \"\" &&\n      this.actionData.driverGender != \"\" &&\n      this.actionData.driverHomeAddress != \"\" &&\n      this.actionData.driverPhoneNumber != \"\" &&\n      this.actionData.driverDob != \"\"\n    ) {\n      this.formValues = { ...this.actionData };\n    } else {\n      this.formValues = JSON.parse(localStorage.getItem(\"authUser\"));\n    }\n  },\n  methods: {\n    updateData() {\n      EventService.$emit(\"loading\", \"show\");\n      //   console.log(this.actionData);\n      ref\n        .doc(this.actionData.driverId)\n        .update(this.formValues)\n        .then(() => {\n          EventService.$emit(\"loading\", \"hide\");\n\n          EventService.$emit(\n            \"successMessage\",\n            \"Successfully Updated Your Information.\"\n          );\n          // this.setNotifyMessage(\"Successfully Updated Your Information.\");\n\n          this.$emit(\"refresh\");\n        })\n        .catch(() => {\n          EventService.$emit(\"loading\", \"hide\");\n\n          EventService.$emit(\"errorMessage\", \"Something went wrong.\");\n          // this.setNotifyError(\"Something went wrong\");\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.float-right {\n  float: right;\n}\n.mt-2 {\n  margin-top: 2rem;\n}\n</style>\n"],"sourceRoot":"src/components/Registration"}]}