{"remainingRequest":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vue/Vite Dashboard/src/components/RidersComponents/Documents.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/src/components/RidersComponents/Documents.vue","mtime":1615415944975},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/package.json","mtime":1614808261102},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL0xpYnJhcnkvV2ViU2VydmVyL0RvY3VtZW50cy9Qcm9qZWN0cy92dWUvVml0ZSBEYXNoYm9hcmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuZnVuY3Rpb24ubmFtZSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UvYXBwIjsKaW1wb3J0ICJmaXJlYmFzZS9maXJlc3RvcmUiOwp2YXIgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKdmFyIHJpZGVyc1JlZiA9IGRiLmNvbGxlY3Rpb24oInJpZGVycyIpOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi8uLi9tYWluIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEltYWdlVXBsb2FkOiBmdW5jdGlvbiBJbWFnZVVwbG9hZCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi9JbWFnZVVwbG9hZCIpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgY3VycmVudFVzZXI6IHt9LAogICAgICB2ZWhpY2xlRGV0YWlsOiB7fSwKICAgICAgaW1hZ2VEaWFsb2c6IGZhbHNlLAogICAgICBpbWFnZVVybDogIiIsCiAgICAgIGltYWdlTmFtZTogIiIsCiAgICAgIGRvY3VtZW50czogW3sKICAgICAgICB0aXRsZTogIlJpZGVyIFBob3RvIiwKICAgICAgICB2YWx1ZTogInVzZXJBdmF0YXJVcmwiLAogICAgICAgIG5hbWU6ICJwcm9maWxlUGhvdG8iLAogICAgICAgIHNyYzogImh0dHBzOi8vY2RuLnZ1ZXRpZnlqcy5jb20vaW1hZ2VzL2NhcmRzL3N0b3JlLmpwZyIKICAgICAgfV0sCiAgICAgIGN1cnJlbnRWYWx1ZTogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBjdXJyZW50VHlwZTogIiIsCiAgICAgIGN1cnJlbnROYW1lOiAiIiwKICAgICAgY3VycmVudFBhdGg6ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RHJpdmVySW5mbygpOwogIH0sCiAgbWV0aG9kczogewogICAgb3BlbkltYWdlRGlhbG9nOiBmdW5jdGlvbiBvcGVuSW1hZ2VEaWFsb2coZGV0YWlsLCB0eXBlKSB7CiAgICAgIHRoaXMudGl0bGUgPSBkZXRhaWwudGl0bGU7CiAgICAgIHRoaXMuaW1hZ2VEaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGRldGFpbC52YWx1ZTsKICAgICAgdGhpcy5jdXJyZW50VHlwZSA9IHR5cGU7CiAgICAgIHRoaXMuY3VycmVudE5hbWUgPSBkZXRhaWwubmFtZTsKICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IGRldGFpbC5wYXRoOwogICAgfSwKICAgIGdldERyaXZlckluZm86IGZ1bmN0aW9uIGdldERyaXZlckluZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgICByaWRlcnNSZWYuZG9jKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICBfdGhpcy5jdXJyZW50VXNlciA9IF9vYmplY3RTcHJlYWQoe30sIHNuYXBzaG90LmRhdGEoKSk7CiAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGVycm9yQ29kZTogZXJyb3IuY29kZSwKICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3IubWVzc2FnZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVByb2ZpbGVJbWFnZTogZnVuY3Rpb24gdXBkYXRlUHJvZmlsZUltYWdlKGltYWdlKSB7CiAgICAgIHRoaXMuaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGltYWdlKTsKICAgICAgdGhpcy5pbWFnZURpYWxvZyA9IGZhbHNlOwoKICAgICAgaWYgKHRoaXMuY3VycmVudFR5cGUgPT09ICJpc1Byb2ZpbGUiKSB7CiAgICAgICAgdGhpcy51cGRhdGVSaWRlckltYWdlKGltYWdlLCB0aGlzLmN1cnJlbnRWYWx1ZSwgdGhpcy5jdXJyZW50TmFtZSk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVSaWRlckltYWdlOiBmdW5jdGlvbiB1cGRhdGVSaWRlckltYWdlKGltYWdlLCB2YWx1ZSwgbmFtZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoIi9yaWRlcnMvIi5jb25jYXQodGhpcy4kcm91dGUucGFyYW1zLmlkLCAiLyIpLmNvbmNhdChuYW1lKSkucHV0KGltYWdlLCB7CiAgICAgICAgY29udGVudFR5cGU6ICJpbWFnZS9qcGciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICAgICAgc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICByaWRlcnNSZWYuZG9jKF90aGlzMi4kcm91dGUucGFyYW1zLmlkKS51cGRhdGUoX2RlZmluZVByb3BlcnR5KHt9LCB2YWx1ZSwgdXJsKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiVXBkYXRlZCBTdWNjZXNzZnVsIik7CgogICAgICAgICAgICBfdGhpczIuZHJpdmVyc0luZm8oKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICB9KTsKICAgIH0sCiAgICBkcml2ZXJzSW5mbzogZnVuY3Rpb24gZHJpdmVyc0luZm8oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgcmlkZXJzUmVmLmRvYyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLmdldCgpLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICAgICAgX3RoaXMzLmN1cnJlbnRVc2VyID0gc25hcHNob3QuZGF0YSgpOwogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBlcnJvckNvZGU6IGVycm9yLmNvZGUsCiAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Documents.vue"],"names":[],"mappings":"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","sourcesContent":["<template> </template>\n\n<script>\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nconst db = firebase.firestore();\nconst ridersRef = db.collection(\"riders\");\nimport { EventService } from \"../../main\";\n\nexport default {\n  components: {\n    ImageUpload: () => import(\"./ImageUpload\"),\n  },\n  data() {\n    return {\n      title: \"\",\n      currentUser: {},\n      vehicleDetail: {},\n      imageDialog: false,\n      imageUrl: \"\",\n      imageName: \"\",\n      documents: [\n        {\n          title: \"Rider Photo\",\n          value: \"userAvatarUrl\",\n          name: \"profilePhoto\",\n          src: \"https://cdn.vuetifyjs.com/images/cards/store.jpg\",\n        },\n      ],\n      currentValue: [],\n      loading: false,\n      currentType: \"\",\n      currentName: \"\",\n      currentPath: \"\",\n    };\n  },\n  created() {\n    this.getDriverInfo();\n  },\n  methods: {\n    openImageDialog(detail, type) {\n      this.title = detail.title;\n      this.imageDialog = true;\n      this.currentValue = detail.value;\n      this.currentType = type;\n      this.currentName = detail.name;\n      this.currentPath = detail.path;\n    },\n    getDriverInfo() {\n      EventService.$emit(\"loading\", \"show\");\n      ridersRef\n        .doc(this.$route.params.id)\n        .get()\n        .then((snapshot) => {\n          this.currentUser = { ...snapshot.data() };\n          EventService.$emit(\"loading\", \"hide\");\n        })\n        .catch((error) => ({\n          errorCode: error.code,\n          errorMessage: error.message,\n        }));\n    },\n    updateProfileImage(image) {\n      this.imageUrl = URL.createObjectURL(image);\n      this.imageDialog = false;\n      if (this.currentType === \"isProfile\") {\n        this.updateRiderImage(image, this.currentValue, this.currentName);\n      }\n    },\n    updateRiderImage(image, value, name) {\n      EventService.$emit(\"loading\", \"show\");\n      firebase\n        .storage()\n        .ref(`/riders/${this.$route.params.id}/${name}`)\n        .put(image, { contentType: `image/jpg` })\n        .then((snapshot) => {\n          snapshot.ref.getDownloadURL().then((url) => {\n            ridersRef\n              .doc(this.$route.params.id)\n              .update({ [value]: url })\n              .then(() => {\n                EventService.$emit(\"successMessage\", \"Updated Successful\");\n                this.driversInfo();\n              });\n          });\n        })\n        .finally(() => {\n          EventService.$emit(\"loading\", \"hide\");\n        });\n    },\n    driversInfo() {\n      EventService.$emit(\"loading\", \"show\");\n      ridersRef\n        .doc(this.$route.params.id)\n        .get()\n        .then((snapshot) => {\n          this.currentUser = snapshot.data();\n          EventService.$emit(\"loading\", \"hide\");\n        })\n        .catch((error) => ({\n          errorCode: error.code,\n          errorMessage: error.message,\n        }));\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components/RidersComponents"}]}