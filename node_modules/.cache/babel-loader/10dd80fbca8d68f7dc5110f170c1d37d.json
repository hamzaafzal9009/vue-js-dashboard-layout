{"remainingRequest":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vue/mViteDashboard/src/components/DashboardComponents/NumberCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/src/components/DashboardComponents/NumberCard.vue","mtime":1615665687440},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/package.json","mtime":1614808261102},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOwppbXBvcnQgImZpcmViYXNlL2ZpcmVzdG9yZSI7CnZhciBkYiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpOwp2YXIgZHJpdmVyUmVmID0gZGIuY29sbGVjdGlvbigiZHJpdmVycyIpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIm51bWJlcnNDYXJkIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZHJpdmVyc0RhdGE6IFt7CiAgICAgICAgdGl0bGU6ICJUb3RhbCBEcml2ZXJzIiwKICAgICAgICBuYW1lOiAiZmlyc3QiLAogICAgICAgIGljb25jb2xvcjogImNvbG9yLXByaW1hcnkiLAogICAgICAgIGljb246ICJmYXMgZmEtdXNlci10aWUiLAogICAgICAgIHZhbHVlOiAidG90YWwiLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIG51bWJlcjogMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJBcHByb3ZlZCBEcml2ZXJzIiwKICAgICAgICBuYW1lOiAic2Vjb25kIiwKICAgICAgICBpY29uY29sb3I6ICJjb2xvci1zdWNjZXNzIiwKICAgICAgICBpY29uOiAiZmFzIGZhLXVzZXItY2hlY2siLAogICAgICAgIHZhbHVlOiAiYXBwcm92ZSIsCiAgICAgICAgdG90YWw6IDAsCiAgICAgICAgbnVtYmVyOiAwCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIkJsb2NrZWQgRHJpdmVycyIsCiAgICAgICAgbmFtZTogInRoaXJkIiwKICAgICAgICBpY29uY29sb3I6ICJjb2xvci1kYW5nZXIiLAogICAgICAgIGljb246ICJmYXMgZmEtdXNlci1zbGFzaCIsCiAgICAgICAgdmFsdWU6ICJibG9ja2VkIiwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBudW1iZXI6IDAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAiTmV3IERyaXZlcnMiLAogICAgICAgIG5hbWU6ICJmb3J0aCIsCiAgICAgICAgaWNvbmNvbG9yOiAiY29sb3ItaW5mbyIsCiAgICAgICAgaWNvbjogImZhcyBmYS11c2VyLXBsdXMiLAogICAgICAgIHZhbHVlOiAibmV3IiwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBudW1iZXI6IDAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAiSW5jb21wbGV0ZSBEcml2ZXJzIiwKICAgICAgICBuYW1lOiAiZmlmdGgiLAogICAgICAgIGljb25jb2xvcjogImNvbG9yLXdhcm5pbmciLAogICAgICAgIGljb246ICJmYXMgZmEtdXNlci10aW1lcyIsCiAgICAgICAgdmFsdWU6ICJpbmNvbXBsZXRlIiwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBudW1iZXI6IDAKICAgICAgfV0sCiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERyaXZlcnMoKTsKICAgIGNvbnNvbGUubG9nKHRoaXMuZHJpdmVyc0RhdGEpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RHJpdmVyczogZnVuY3Rpb24gZ2V0RHJpdmVycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICBkcml2ZXJSZWYuZ2V0KCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHZhciBkcml2ZXJzID0gZGF0YS5kb2NzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHguZGF0YSgpLmRyaXZlcklkOwogICAgICAgIH0pOwogICAgICAgIHZhciB0b3RhbERyaXZlcnMgPSBkcml2ZXJzLmxlbmd0aDsKICAgICAgICB2YXIgZHJpdmVyQ291bnRzID0gewogICAgICAgICAgdG90YWw6IHRvdGFsRHJpdmVycywKICAgICAgICAgIGFwcHJvdmU6IDAsCiAgICAgICAgICBibG9ja2VkOiAwLAogICAgICAgICAgbmV3OiAwLAogICAgICAgICAgaW5jb21wbGV0ZTogMAogICAgICAgIH07CiAgICAgICAgZHJpdmVycy5mb3JFYWNoKGZ1bmN0aW9uIChkcml2ZXIpIHsKICAgICAgICAgIHZhciBkcml2ZXJEYXRhID0gZHJpdmVyLmRhdGEoKTsKCiAgICAgICAgICBpZiAoZHJpdmVyRGF0YS5pc0Jsb2NrZWQgPT09ICJ0cnVlIiB8fCBkcml2ZXJEYXRhLmlzQmxvY2tlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICBkcml2ZXJDb3VudHMuYmxvY2tlZCArPSAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGRyaXZlckRhdGEuZHJpdmVyU3RhdHVzID09PSAiY29uZmlybWVkIikgewogICAgICAgICAgICAgIGRyaXZlckNvdW50cy5hcHByb3ZlICs9IDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChkcml2ZXJEYXRhLmRyaXZlclN0YXR1cyA9PT0gInBlbmRpbmciKSB7CiAgICAgICAgICAgICAgZHJpdmVyQ291bnRzLm5ldyArPSAxOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZHJpdmVyRGF0YS5kcml2ZXJTdGF0dXMgPT09ICJpbmNvbXBsZXRlIiB8fCB0eXBlb2YgZHJpdmVyRGF0YS5kcml2ZXJTdGF0dXMgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgZHJpdmVyQ291bnRzLmluY29tcGxldGUgKz0gMTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5kcml2ZXJzRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgIG9iai5udW1iZXIgPSBkcml2ZXJDb3VudHNbb2JqLnZhbHVlXSwgb2JqLnRvdGFsID0gb2JqLnZhbHVlID09PSAidG90YWwiID8gMCA6IHRvdGFsRHJpdmVyczsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["NumberCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,QAAA,MAAA,cAAA;AACA,OAAA,oBAAA;AACA,IAAA,EAAA,GAAA,QAAA,CAAA,SAAA,EAAA;AACA,IAAA,SAAA,GAAA,EAAA,CAAA,UAAA,CAAA,SAAA,CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,WAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,eADA;AAEA,QAAA,IAAA,EAAA,OAFA;AAGA,QAAA,SAAA,EAAA,eAHA;AAIA,QAAA,IAAA,EAAA,iBAJA;AAKA,QAAA,KAAA,EAAA,OALA;AAMA,QAAA,KAAA,EAAA,CANA;AAOA,QAAA,MAAA,EAAA;AAPA,OADA,EAUA;AACA,QAAA,KAAA,EAAA,kBADA;AAEA,QAAA,IAAA,EAAA,QAFA;AAGA,QAAA,SAAA,EAAA,eAHA;AAIA,QAAA,IAAA,EAAA,mBAJA;AAKA,QAAA,KAAA,EAAA,SALA;AAMA,QAAA,KAAA,EAAA,CANA;AAOA,QAAA,MAAA,EAAA;AAPA,OAVA,EAmBA;AACA,QAAA,KAAA,EAAA,iBADA;AAEA,QAAA,IAAA,EAAA,OAFA;AAGA,QAAA,SAAA,EAAA,cAHA;AAIA,QAAA,IAAA,EAAA,mBAJA;AAKA,QAAA,KAAA,EAAA,SALA;AAMA,QAAA,KAAA,EAAA,CANA;AAOA,QAAA,MAAA,EAAA;AAPA,OAnBA,EA4BA;AACA,QAAA,KAAA,EAAA,aADA;AAEA,QAAA,IAAA,EAAA,OAFA;AAGA,QAAA,SAAA,EAAA,YAHA;AAIA,QAAA,IAAA,EAAA,kBAJA;AAKA,QAAA,KAAA,EAAA,KALA;AAMA,QAAA,KAAA,EAAA,CANA;AAOA,QAAA,MAAA,EAAA;AAPA,OA5BA,EAqCA;AACA,QAAA,KAAA,EAAA,oBADA;AAEA,QAAA,IAAA,EAAA,OAFA;AAGA,QAAA,SAAA,EAAA,eAHA;AAIA,QAAA,IAAA,EAAA,mBAJA;AAKA,QAAA,KAAA,EAAA,YALA;AAMA,QAAA,KAAA,EAAA,CANA;AAOA,QAAA,MAAA,EAAA;AAPA,OArCA,CADA;AAgDA,MAAA,WAAA,EAAA;AAhDA,KAAA;AAAA,GAFA;AAoDA,EAAA,OApDA,qBAoDA;AACA,SAAA,UAAA;AAEA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,WAAA;AACA,GAxDA;AAyDA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,WAAA,WAAA,GAAA,IAAA;AACA,MAAA,SAAA,CAAA,GAAA,GAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,OAAA,GAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,IAAA,GAAA,QAAA;AAAA,SAAA,CAAA;AACA,YAAA,YAAA,GAAA,OAAA,CAAA,MAAA;AACA,YAAA,YAAA,GAAA;AACA,UAAA,KAAA,EAAA,YADA;AAEA,UAAA,OAAA,EAAA,CAFA;AAGA,UAAA,OAAA,EAAA,CAHA;AAIA,UAAA,GAAA,EAAA,CAJA;AAKA,UAAA,UAAA,EAAA;AALA,SAAA;AAOA,QAAA,OAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA;AACA,cAAA,UAAA,GAAA,MAAA,CAAA,IAAA,EAAA;;AACA,cACA,UAAA,CAAA,SAAA,KAAA,MAAA,IACA,UAAA,CAAA,SAAA,KAAA,IAFA,EAGA;AACA,YAAA,YAAA,CAAA,OAAA,IAAA,CAAA;AACA,WALA,MAKA;AACA,gBAAA,UAAA,CAAA,YAAA,KAAA,WAAA,EAAA;AACA,cAAA,YAAA,CAAA,OAAA,IAAA,CAAA;AACA;;AACA,gBAAA,UAAA,CAAA,YAAA,KAAA,SAAA,EAAA;AACA,cAAA,YAAA,CAAA,GAAA,IAAA,CAAA;AACA;;AACA,gBACA,UAAA,CAAA,YAAA,KAAA,YAAA,IACA,OAAA,UAAA,CAAA,YAAA,KAAA,WAFA,EAGA;AACA,cAAA,YAAA,CAAA,UAAA,IAAA,CAAA;AACA;AACA;AACA,SArBA;;AAsBA,QAAA,KAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,MAAA,GAAA,YAAA,CAAA,GAAA,CAAA,KAAA,CAAA,EACA,GAAA,CAAA,KAAA,GAAA,GAAA,CAAA,KAAA,KAAA,OAAA,GAAA,CAAA,GAAA,YADA;AAEA,SAHA;;AAKA,QAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,OAtCA;AAuCA;AA1CA;AAzDA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-col :sm=\"24\" :md=\"5\" v-for=\"card in driversData\" :key=\"card.title\">\n      <div @click=\"$router.push(`/drivers/${card.name}`)\">\n        <el-card class=\"box-card clickable\" shadow=\"hover\">\n          <el-row>\n            <el-col :span=\"18\">\n              <div class=\"o-card-title-3\">\n                {{ card.title }}\n              </div>\n              <div class=\"o-card-data\" v-show=\"!showLoading\">\n                {{ card.number }}\n              </div>\n              <div class=\"dashboard-row dashboard-loader\" v-show=\"showLoading\">\n                <i class=\"el-icon-loading\"></i>\n              </div>\n            </el-col>\n            <el-col :span=\"6\">\n              <div class=\"o-card-icon\" :class=\"[card.iconcolor]\">\n                <i :class=\"card.icon\"></i>\n              </div>\n            </el-col>\n          </el-row>\n        </el-card>\n      </div>\n    </el-col>\n  </div>\n</template>\n\n<script>\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nconst db = firebase.firestore();\nconst driverRef = db.collection(\"drivers\");\nexport default {\n  name: \"numbersCard\",\n  data: () => ({\n    driversData: [\n      {\n        title: \"Total Drivers\",\n        name: \"first\",\n        iconcolor: \"color-primary\",\n        icon: \"fas fa-user-tie\",\n        value: \"total\",\n        total: 0,\n        number: 0,\n      },\n      {\n        title: \"Approved Drivers\",\n        name: \"second\",\n        iconcolor: \"color-success\",\n        icon: \"fas fa-user-check\",\n        value: \"approve\",\n        total: 0,\n        number: 0,\n      },\n      {\n        title: \"Blocked Drivers\",\n        name: \"third\",\n        iconcolor: \"color-danger\",\n        icon: \"fas fa-user-slash\",\n        value: \"blocked\",\n        total: 0,\n        number: 0,\n      },\n      {\n        title: \"New Drivers\",\n        name: \"forth\",\n        iconcolor: \"color-info\",\n        icon: \"fas fa-user-plus\",\n        value: \"new\",\n        total: 0,\n        number: 0,\n      },\n      {\n        title: \"Incomplete Drivers\",\n        name: \"fifth\",\n        iconcolor: \"color-warning\",\n        icon: \"fas fa-user-times\",\n        value: \"incomplete\",\n        total: 0,\n        number: 0,\n      },\n    ],\n    showLoading: false,\n  }),\n  created() {\n    this.getDrivers();\n\n    console.log(this.driversData);\n  },\n  methods: {\n    getDrivers() {\n      this.showLoading = true;\n      driverRef.get().then((data) => {\n        const drivers = data.docs.filter((x) => x.data().driverId);\n        const totalDrivers = drivers.length;\n        const driverCounts = {\n          total: totalDrivers,\n          approve: 0,\n          blocked: 0,\n          new: 0,\n          incomplete: 0,\n        };\n        drivers.forEach((driver) => {\n          const driverData = driver.data();\n          if (\n            driverData.isBlocked === \"true\" ||\n            driverData.isBlocked === true\n          ) {\n            driverCounts.blocked += 1;\n          } else {\n            if (driverData.driverStatus === \"confirmed\") {\n              driverCounts.approve += 1;\n            }\n            if (driverData.driverStatus === \"pending\") {\n              driverCounts.new += 1;\n            }\n            if (\n              driverData.driverStatus === \"incomplete\" ||\n              typeof driverData.driverStatus === \"undefined\"\n            ) {\n              driverCounts.incomplete += 1;\n            }\n          }\n        });\n        this.driversData.forEach((obj) => {\n          (obj.number = driverCounts[obj.value]),\n            (obj.total = obj.value === \"total\" ? 0 : totalDrivers);\n        });\n\n        this.showLoading = false;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.el-row--flex {\n  flex-direction: row;\n}\n.text-center {\n  text-align: center;\n}\n.el-card__body {\n  padding: 0 15px !important;\n}\n.color-primary {\n  color: #1976d2;\n}\n.color-info {\n  color: #909399;\n}\n.color-warning {\n  color: #e6a23c;\n}\n.color-success {\n  color: #67c23a;\n}\n.color-danger {\n  color: #f56c6c;\n}\n\n@media only screen and (min-width: 992px) {\n  .el-col-md-5 {\n    width: 19.83333%;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/DashboardComponents"}]}