{"remainingRequest":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vue/Vite Dashboard/src/components/Drivers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/src/components/Drivers.vue","mtime":1615330472283},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOwpjb25zdCBkYiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpOwpjb25zdCBkcml2ZXJSZWYgPSBkYi5jb2xsZWN0aW9uKCJkcml2ZXJzIik7CmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uL21haW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogKCkgPT4gKHsKICAgIHRhYnM6IFsKICAgICAgewogICAgICAgIHRleHQ6ICJBbGwiLAogICAgICAgIG5hbWU6ICJmaXJzdCIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiQWN0aXZlIiwKICAgICAgICBuYW1lOiAic2Vjb25kIiwKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJCbG9ja2VkIiwKICAgICAgICBuYW1lOiAidGhpcmQiLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIk5ldyIsCiAgICAgICAgbmFtZTogImZvcnRoIiwKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJJbmNvbXBsZXRlIiwKICAgICAgICBuYW1lOiAiZmlmdGgiLAogICAgICB9LAogICAgXSwKICAgIHNlYXJjaF9ieTogIiIsCiAgICBzdGF0dXM6ICJBbGwiLAogICAgc2VhcmNoOiAiIiwKICAgIGRyaXZlckRhdGE6IFtdLAogICAgbG9hZGluZzogZmFsc2UsCiAgICBzdGF0dXM6ICIiLAogICAgc2hvd0ZpbHRlcnM6IGZhbHNlLAogICAgZmlsdGVyczogewogICAgICBmdWxsX25hbWU6ICIiLAogICAgICBwaG9uZV9udW1iZXI6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICB9LAogICAgYWN0aXZlTmFtZTogImZpcnN0IiwKICAgIHBhZ2luYXRpb25EYXRhOiB7CiAgICAgIHBlclBhZ2U6IDEwLAogICAgICBjdXJyZW50UGFnZTogMCwKICAgICAgcGVyUGFnZU9wdGlvbnM6IFsxMCwgMjAsIDUwXSwKICAgICAgdG90YWw6IDAsCiAgICB9LAogIH0pLAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREcml2ZXJzKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgcGFnaW5hdGlvblBhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLnBhZ2luYXRpb25EYXRhLmN1cnJlbnRQYWdlICsgMTsKICAgIH0sCiAgICBkcml2ZXJEZXRhaWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmRyaXZlckRhdGEuZmlsdGVyKChlbCkgPT4gewogICAgICAgIGlmICh0eXBlb2YgZWwuZHJpdmVyRG9iICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgbGV0IGQgPSBlbC5kcml2ZXJEb2I7CiAgICAgICAgICBpZiAodHlwZW9mIGVsLmRyaXZlckRvYiA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgZCA9IG5ldyBEYXRlKGVsLmRyaXZlckRvYi5zZWNvbmRzICogMTAwMCkKICAgICAgICAgICAgICAudG9JU09TdHJpbmcoKQogICAgICAgICAgICAgIC5zbGljZSgwLCAxMCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGQgPSBuZXcgRGF0ZShlbC5kcml2ZXJEb2IpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgZCA9IGVsLmRyaXZlckRvYjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgZWwuZHJpdmVyRG9iID0gZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZWwuZHJpdmVyRG9iID0gIk5vIERhdGEgQXZhaWxibGUiOwogICAgICAgIH0KICAgICAgICBpZiAoZWwuZHJpdmVyUGhvbmVOdW1iZXIpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHN0YXR1c0ZpbHRlckRhdGEoKSB7CiAgICAgIHJldHVybiB0aGlzLmRyaXZlckRldGFpbC5maWx0ZXIoKGVsZSkgPT4gewogICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gIkFsbCIpIHsKICAgICAgICAgIHJldHVybiBlbGU7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXR1cyA9PT0gIkFjdGl2ZSIpIHsKICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIGVsZS5kcml2ZXJTdGF0dXMgPT09ICJjb25maXJtZWQiICYmCiAgICAgICAgICAgIChlbGUuaXNCbG9ja2VkID09PSAiZmFsc2UiIHx8IGVsZS5pc0Jsb2NrZWQgPT09IGZhbHNlKQogICAgICAgICAgKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSAiQmxvY2tlZCIpIHsKICAgICAgICAgIHJldHVybiBlbGUuaXNCbG9ja2VkID09PSAidHJ1ZSIgfHwgZWxlLmlzQmxvY2tlZCA9PT0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSAiTmV3IikgewogICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgZWxlLmRyaXZlclN0YXR1cyA9PT0gInBlbmRpbmciICYmCiAgICAgICAgICAgIChlbGUuaXNCbG9ja2VkID09PSAiZmFsc2UiIHx8IGVsZS5pc0Jsb2NrZWQgPT09IGZhbHNlKQogICAgICAgICAgKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSAiSW5jb21wbGV0ZSIpIHsKICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIGVsZS5kcml2ZXJTdGF0dXMgPT09ICJpbmNvbXBsZXRlIiAmJgogICAgICAgICAgICAoZWxlLmlzQmxvY2tlZCA9PT0gImZhbHNlIiB8fCBlbGUuaXNCbG9ja2VkID09PSBmYWxzZSkKICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBlbGU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0cmlwRmlsdGVyRGF0YSgpIHsKICAgICAgY29uc3Qgc3RhcnQgPQogICAgICAgICAgdGhpcy5wYWdpbmF0aW9uRGF0YS5jdXJyZW50UGFnZSAqIHRoaXMucGFnaW5hdGlvbkRhdGEucGVyUGFnZSwKICAgICAgICBlbmQgPSBzdGFydCArIHRoaXMucGFnaW5hdGlvbkRhdGEucGVyUGFnZTsKICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzRmlsdGVyRGF0YQogICAgICAgIC5maWx0ZXIoKGVsZSkgPT4gewogICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgZWxlLmRyaXZlckZpcnN0TmFtZQogICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgICAgLmluY2x1ZGVzKHRoaXMuZmlsdGVycy5mdWxsX25hbWUudG9Mb3dlckNhc2UoKSB8fCAiIikgJiYKICAgICAgICAgICAgZWxlLmRyaXZlclBob25lTnVtYmVyCiAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgICAgICAgICAgICAuaW5jbHVkZXModGhpcy5maWx0ZXJzLnBob25lX251bWJlci50b0xvd2VyQ2FzZSgpIHx8ICIiKSAmJgogICAgICAgICAgICBlbGUuZHJpdmVyRW1haWwKICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKQogICAgICAgICAgICAgIC5pbmNsdWRlcyh0aGlzLmZpbHRlcnMuZW1haWwudG9Mb3dlckNhc2UoKSB8fCAiIikKICAgICAgICAgICk7CiAgICAgICAgfSkKICAgICAgICAuc2xpY2Uoc3RhcnQsIGVuZCk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoQnkoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaF9ieSA9PT0gIkVtYWlsIikgewogICAgICAgIHRoaXMuZmlsdGVycy5lbWFpbCA9IHRoaXMuc2VhcmNoOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoX2J5ID09PSAiUGhvbmUgTnVtYmVyIikgewogICAgICAgIHRoaXMuZmlsdGVycy5waG9uZV9udW1iZXIgPSB0aGlzLnNlYXJjaDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpbHRlcnMuZnVsbF9uYW1lID0gdGhpcy5zZWFyY2g7CiAgICAgIH0KICAgIH0sCiAgICBhZGRQYWdlTnVtKHBhZ2UpIHsKICAgICAgdGhpcy5wYWdpbmF0aW9uRGF0YS5jdXJyZW50UGFnZSA9IHBhZ2UgLSAxOwogICAgfSwKICAgIGdldERyaXZlcnMoKSB7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIGRyaXZlclJlZi5nZXQoKS50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkYXRhLmRvY3MubWFwKCh2YWx1ZSkgPT4gdmFsdWUuZGF0YSgpKTsKICAgICAgICB0aGlzLmRyaXZlckRhdGEgPSByZXNwb25zZTsKICAgICAgICB0aGlzLnBhZ2luYXRpb25EYXRhLnRvdGFsID0gcmVzcG9uc2UubGVuZ3RoOwogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgIH0pOwogICAgfSwKCiAgICBzZXRTdGF0dXNGaWx0ZXIodGFiLCBldmVudCkgewogICAgICB0aGlzLnN0YXR1cyA9IHRhYi5sYWJlbDsKICAgICAgdGhpcy5hY3RpdmVOYW1lID0gdGFiLm5hbWU7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudHJpcEZpbHRlckRhdGEubGVuZ3RoKTsKICAgICAgY29uc29sZS5sb2codGFiKTsKICAgIH0sCgogICAgZGVsZXRlRHJpdmVyKHJvdykgewogICAgICB0aGlzLiRjb25maXJtKCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlPyIpCiAgICAgICAgLnRoZW4oKF8pID0+IHsKICAgICAgICAgIGxldCBjdXJyZW50SWQgPSByb3cuZHJpdmVyUGhvbmVOdW1iZXI7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgICAgICAgZHJpdmVyUmVmCiAgICAgICAgICAgIC5kb2MoY3VycmVudElkKQogICAgICAgICAgICAuZGVsZXRlKCkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KAogICAgICAgICAgICAgICAgInN1Y2Nlc3NNZXNzYWdlIiwKICAgICAgICAgICAgICAgICJEcml2ZXIgRGVsZXRlZCBTdWNjZXNzZnVsLiIKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIHRoaXMuZ2V0RHJpdmVycygpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgKICAgICAgICAgICAgICAgICJlcnJvck1lc3NhZ2UiLAogICAgICAgICAgICAgICAgIlNvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluLiIKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgZG9uZSgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChfKSA9PiB7fSk7CiAgICB9LAogICAgYmxvY2tEcml2ZXIocm93KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBibG9jaz8iKQogICAgICAgIC50aGVuKChfKSA9PiB7CiAgICAgICAgICBsZXQgY3VycmVudElkID0gcm93LmRyaXZlclBob25lTnVtYmVyOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgICAgIGRyaXZlclJlZgogICAgICAgICAgICAuZG9jKGN1cnJlbnRJZCkKICAgICAgICAgICAgLnVwZGF0ZSh7IGlzQmxvY2tlZDogInRydWUiIH0pCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiRHJpdmVyIGlzIEJsb2NrZWQuIik7CgogICAgICAgICAgICAgIHRoaXMuZ2V0RHJpdmVycygpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgKICAgICAgICAgICAgICAgICJlcnJvck1lc3NhZ2UiLAogICAgICAgICAgICAgICAgIlNvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluLiIKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgICAgY29uc29sZS5pbmZvKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgZG9uZSgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChfKSA9PiB7fSk7CiAgICB9LAogICAgdW5CbG9ja0RyaXZlcihyb3cpIHsKICAgICAgdGhpcy4kY29uZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGJsb2NrPyIpCiAgICAgICAgLnRoZW4oKF8pID0+IHsKICAgICAgICAgIGxldCBjdXJyZW50SWQgPSByb3cuZHJpdmVyUGhvbmVOdW1iZXI7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgICAgICAgZHJpdmVyUmVmCiAgICAgICAgICAgIC5kb2MoY3VycmVudElkKQogICAgICAgICAgICAudXBkYXRlKHsgaXNCbG9ja2VkOiAiZmFsc2UiIH0pCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiRHJpdmVyIGlzIFVuYmxvY2tlZC4iKTsKICAgICAgICAgICAgICB0aGlzLmdldERyaXZlcnMoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoCiAgICAgICAgICAgICAgICAiZXJyb3JNZXNzYWdlIiwKICAgICAgICAgICAgICAgICJTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2Fpbi4iCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIGRvbmUoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoXykgPT4ge30pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Drivers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Drivers.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"dashboard-container\">\n    <el-card class=\"card-min-height\">\n      <div class=\"card-header\">\n        <div class=\"card-title\">\n          <h3>Drivers</h3>\n        </div>\n        <div class=\"card-actions\">\n          <div class=\"input-group\">\n            <el-popover\n              trigger=\"click\"\n              class=\"filter clickable\"\n              v-model=\"showFilters\"\n            >\n              <div class=\"filter-button\" slot=\"reference\">\n                <i class=\"fas fa-filter\"></i>\n              </div>\n              <div class=\"dropdown-filter-menu\">\n                <div class=\"dropdown-filter-option\">\n                  <label>Search By</label>\n                  <el-select v-model=\"search_by\" :collapse-tags=\"true\">\n                    <el-option class=\"capitalize\" value=\"Full Name\"\n                      >Full Name\n                    </el-option>\n                    <el-option class=\"capitalize\" value=\"Email\"\n                      >Email\n                    </el-option>\n                    <el-option class=\"capitalize\" value=\"Phone Number\"\n                      >Phone Number\n                    </el-option>\n                  </el-select>\n                </div>\n              </div>\n            </el-popover>\n            <el-input\n              placeholder=\"Search Driver\"\n              @input=\"searchBy\"\n              v-model=\"search\"\n              ><i slot=\"suffix\" class=\"far fa-search\"></i\n            ></el-input>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card-body\">\n        <el-tabs\n          v-model=\"activeName\"\n          @tab-click=\"setStatusFilter\"\n          type=\"border-card\"\n        >\n          <el-tab-pane\n            :label=\"tab.text\"\n            :name=\"tab.name\"\n            v-for=\"(tab, index) in tabs\"\n            :key=\"index\"\n          >\n            <el-table\n              :data=\"tripFilterData\"\n              style=\"width: 100%\"\n              size=\"small\"\n              empty-text=\"No results found.\"\n            >\n              <el-table-column\n                prop=\"driverFirstName\"\n                label=\"Full Name\"\n                width=\"300\"\n              >\n                <template slot-scope=\"props\">\n                  <span>\n                    <img\n                      :src=\"\n                        props.row.driverAvatarUrl === ''\n                          ? require(`@/assets/img/default-user.jpg`)\n                          : props.row.driverAvatarUrl\n                      \"\n                      class=\"img-user\"\n                      alt=\"...\"\n                    />\n                  </span>\n                  <span v-if=\"typeof props === 'object'\" class=\"driver-name\">\n                    {{\n                      `${props.row.driverFirstName} ${props.row.driverLastName}`\n                    }}\n                  </span>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"Online\" width=\"70\">\n                <template slot-scope=\"props\">\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    placement=\"right\"\n                    :content=\"\n                      props.row.driverAvailibility === 'online'\n                        ? 'Driver Online'\n                        : 'Driver Offline'\n                    \"\n                  >\n                    <div class=\"text-center\">\n                      <i\n                        class=\"fa fa-circle\"\n                        :class=\"\n                          props.row.driverAvailibility === 'online'\n                            ? 'green-text'\n                            : 'grey-text'\n                        \"\n                      ></i>\n                    </div>\n                  </el-tooltip>\n                </template>\n              </el-table-column>\n              <el-table-column\n                prop=\"driverPhoneNumber\"\n                label=\"Phone #\"\n                width=\"120\"\n              >\n              </el-table-column>\n              <el-table-column prop=\"driverEmail\" label=\"Email\" width=\"230\">\n              </el-table-column>\n              <el-table-column prop=\"driverDob\" label=\"DOB\" width=\"130\">\n              </el-table-column>\n              <el-table-column prop=\"reg_date\" label=\"Reg Date\" width=\"130\">\n                <template slot-scope=\"props\">\n                  {{ props.row.reg_date || \"No Data Available\" }}\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"totalTrips\" label=\"Reg Date\" width=\"130\">\n                <template slot-scope=\"props\">\n                  {{ props.row.totalTrips || \"No Data Available\" }}\n                </template>\n              </el-table-column>\n              <el-table-column fixed=\"right\" label=\"Actions\" width=\"140\">\n                <template slot-scope=\"props\">\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Block Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"info\"\n                      icon=\"el-icon-close\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"blockDriver(props.row)\"\n                      v-if=\"\n                        ['confirmed', 'incomplete'].includes(\n                          props.row.driverStatus\n                        ) &&\n                          (props.row.isBlocked === 'false' ||\n                            props.row.isBlocked === false)\n                      \"\n                    ></el-button>\n                  </el-tooltip>\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Unblock Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"info\"\n                      icon=\"el-icon-check\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"unBlockDriver(props.row)\"\n                      v-if=\"\n                        props.row.isBlocked === 'true' ||\n                          props.row.isBlocked === true\n                      \"\n                    ></el-button>\n                  </el-tooltip>\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Edit Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"primary\"\n                      icon=\"el-icon-edit\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"\n                        $router.push(\n                          `/drivers/edit/${props.row.driverPhoneNumber}`\n                        )\n                      \"\n                    ></el-button>\n                  </el-tooltip>\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Delete Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"danger\"\n                      icon=\"el-icon-delete\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"deleteDriver(props.row)\"\n                    ></el-button>\n                  </el-tooltip>\n                </template>\n              </el-table-column>\n            </el-table>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n      <div class=\"pagination block\">\n        <span\n          >Showing {{ paginationData.perPage }} of\n          {{ paginationData.total }} Total Results</span\n        >\n        <el-pagination\n          background\n          layout=\"prev, pager, next\"\n          :current-page=\"paginationPage\"\n          :page-size=\"paginationData.perPage\"\n          :total=\"paginationData.total\"\n          small\n          @current-change=\"addPageNum\"\n        ></el-pagination>\n        <el-select\n          class=\"per-page-select\"\n          size=\"mini\"\n          v-model=\"paginationData.perPage\"\n        >\n          <el-option\n            v-for=\"option in paginationData.perPageOptions\"\n            :value=\"option\"\n            :key=\"option\"\n            >{{ option }}\n          </el-option>\n        </el-select>\n      </div>\n    </el-card>\n  </div>\n</template>\n<script>\nimport firebase from \"firebase/app\";\nconst db = firebase.firestore();\nconst driverRef = db.collection(\"drivers\");\nimport { EventService } from \"../main\";\nexport default {\n  data: () => ({\n    tabs: [\n      {\n        text: \"All\",\n        name: \"first\",\n      },\n      {\n        text: \"Active\",\n        name: \"second\",\n      },\n      {\n        text: \"Blocked\",\n        name: \"third\",\n      },\n      {\n        text: \"New\",\n        name: \"forth\",\n      },\n      {\n        text: \"Incomplete\",\n        name: \"fifth\",\n      },\n    ],\n    search_by: \"\",\n    status: \"All\",\n    search: \"\",\n    driverData: [],\n    loading: false,\n    status: \"\",\n    showFilters: false,\n    filters: {\n      full_name: \"\",\n      phone_number: \"\",\n      email: \"\",\n    },\n    activeName: \"first\",\n    paginationData: {\n      perPage: 10,\n      currentPage: 0,\n      perPageOptions: [10, 20, 50],\n      total: 0,\n    },\n  }),\n\n  created() {\n    this.getDrivers();\n  },\n  computed: {\n    paginationPage() {\n      return this.paginationData.currentPage + 1;\n    },\n    driverDetail() {\n      return this.driverData.filter((el) => {\n        if (typeof el.driverDob !== \"undefined\") {\n          let d = el.driverDob;\n          if (typeof el.driverDob === \"object\") {\n            d = new Date(el.driverDob.seconds * 1000)\n              .toISOString()\n              .slice(0, 10);\n          } else {\n            try {\n              d = new Date(el.driverDob).toISOString().slice(0, 10);\n            } catch (e) {\n              d = el.driverDob;\n            }\n          }\n          el.driverDob = d;\n        } else {\n          el.driverDob = \"No Data Availble\";\n        }\n        if (el.driverPhoneNumber) {\n          return true;\n        }\n        return false;\n      });\n    },\n    statusFilterData() {\n      return this.driverDetail.filter((ele) => {\n        if (this.status === \"All\") {\n          return ele;\n        } else if (this.status === \"Active\") {\n          return (\n            ele.driverStatus === \"confirmed\" &&\n            (ele.isBlocked === \"false\" || ele.isBlocked === false)\n          );\n        } else if (this.status === \"Blocked\") {\n          return ele.isBlocked === \"true\" || ele.isBlocked === true;\n        } else if (this.status === \"New\") {\n          return (\n            ele.driverStatus === \"pending\" &&\n            (ele.isBlocked === \"false\" || ele.isBlocked === false)\n          );\n        } else if (this.status === \"Incomplete\") {\n          return (\n            ele.driverStatus === \"incomplete\" &&\n            (ele.isBlocked === \"false\" || ele.isBlocked === false)\n          );\n        } else {\n          return ele;\n        }\n      });\n    },\n    tripFilterData() {\n      const start =\n          this.paginationData.currentPage * this.paginationData.perPage,\n        end = start + this.paginationData.perPage;\n      return this.statusFilterData\n        .filter((ele) => {\n          return (\n            ele.driverFirstName\n              .toLowerCase()\n              .includes(this.filters.full_name.toLowerCase() || \"\") &&\n            ele.driverPhoneNumber\n              .toLowerCase()\n              .includes(this.filters.phone_number.toLowerCase() || \"\") &&\n            ele.driverEmail\n              .toLowerCase()\n              .includes(this.filters.email.toLowerCase() || \"\")\n          );\n        })\n        .slice(start, end);\n    },\n  },\n  methods: {\n    searchBy() {\n      if (this.search_by === \"Email\") {\n        this.filters.email = this.search;\n      } else if (this.search_by === \"Phone Number\") {\n        this.filters.phone_number = this.search;\n      } else {\n        this.filters.full_name = this.search;\n      }\n    },\n    addPageNum(page) {\n      this.paginationData.currentPage = page - 1;\n    },\n    getDrivers() {\n      EventService.$emit(\"loading\", \"show\");\n      driverRef.get().then((data) => {\n        const response = data.docs.map((value) => value.data());\n        this.driverData = response;\n        this.paginationData.total = response.length;\n        EventService.$emit(\"loading\", \"hide\");\n      });\n    },\n\n    setStatusFilter(tab, event) {\n      this.status = tab.label;\n      this.activeName = tab.name;\n      console.log(this.tripFilterData.length);\n      console.log(tab);\n    },\n\n    deleteDriver(row) {\n      this.$confirm(\"Are you sure you want to delete?\")\n        .then((_) => {\n          let currentId = row.driverPhoneNumber;\n          EventService.$emit(\"loading\", \"show\");\n          driverRef\n            .doc(currentId)\n            .delete()\n            .then(() => {\n              EventService.$emit(\"loading\", \"show\");\n              EventService.$emit(\n                \"successMessage\",\n                \"Driver Deleted Successful.\"\n              );\n              this.getDrivers();\n            })\n            .catch(() => {\n              EventService.$emit(\n                \"errorMessage\",\n                \"Something went wrong, please try again.\"\n              );\n              EventService.$emit(\"loading\", \"hide\");\n            });\n          done();\n        })\n        .catch((_) => {});\n    },\n    blockDriver(row) {\n      this.$confirm(\"Are you sure you want to block?\")\n        .then((_) => {\n          let currentId = row.driverPhoneNumber;\n          EventService.$emit(\"loading\", \"show\");\n          driverRef\n            .doc(currentId)\n            .update({ isBlocked: \"true\" })\n            .then(() => {\n              EventService.$emit(\"loading\", \"hide\");\n              EventService.$emit(\"successMessage\", \"Driver is Blocked.\");\n\n              this.getDrivers();\n            })\n            .catch((err) => {\n              EventService.$emit(\n                \"errorMessage\",\n                \"Something went wrong, please try again.\"\n              );\n              EventService.$emit(\"loading\", \"hide\");\n              console.info(err);\n            });\n          done();\n        })\n        .catch((_) => {});\n    },\n    unBlockDriver(row) {\n      this.$confirm(\"Are you sure you want to block?\")\n        .then((_) => {\n          let currentId = row.driverPhoneNumber;\n          EventService.$emit(\"loading\", \"show\");\n          driverRef\n            .doc(currentId)\n            .update({ isBlocked: \"false\" })\n            .then(() => {\n              EventService.$emit(\"loading\", \"hide\");\n              EventService.$emit(\"successMessage\", \"Driver is Unblocked.\");\n              this.getDrivers();\n            })\n            .catch((err) => {\n              EventService.$emit(\n                \"errorMessage\",\n                \"Something went wrong, please try again.\"\n              );\n              EventService.$emit(\"loading\", \"hide\");\n              console.info(err);\n            });\n          done();\n        })\n        .catch((_) => {});\n    },\n  },\n};\n</script>\n\n<style scoped>\n.grey-text {\n  color: #cecece;\n}\n.green-text {\n  color: darkgreen;\n}\n\n.img-user {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n}\n\n.driver-name {\n  position: absolute;\n  top: 26px;\n  left: 80px;\n}\n.text-center {\n  text-align: center;\n}\n</style>\n"]}]}