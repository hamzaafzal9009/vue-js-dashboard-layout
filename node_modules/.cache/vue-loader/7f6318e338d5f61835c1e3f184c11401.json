{"remainingRequest":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vue/mViteDashboard/src/components/DriverComponents/VehicleInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/src/components/DriverComponents/VehicleInfo.vue","mtime":1614812666665},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOwppbXBvcnQgImZpcmViYXNlL2ZpcmVzdG9yZSI7CmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uLy4uL21haW4iOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtVmFsdWVzOiB7CiAgICAgICAgbWFudWZhY3R1cmVyOiAiIiwKICAgICAgICBtb2RlbE5hbWU6ICIiLAogICAgICAgIG1vZGVsWWVhcjogIiIsCiAgICAgICAgbGljZW5zZVBsYXRlTnVtYmVyOiAiIiwKICAgICAgICB2ZWhpY2xlQ29sb3I6ICIiLAogICAgICAgIG51bWJlck9mU2VhdHM6ICIiLAogICAgICB9LAogICAgICByZXF1aXJlZFJ1bGVzOiBbKHYpID0+ICEhdiB8fCAiVGhpcyBpcyByZXF1aXJlZCJdLAogICAgICBlbWFpbFJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAiRS1tYWlsIGlzIHJlcXVpcmVkIiwKICAgICAgICAodikgPT4gLy4rQC4rXC4uKy8udGVzdCh2KSB8fCAiRS1tYWlsIG11c3QgYmUgdmFsaWQiLAogICAgICBdLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFZlY2hpY2xlSW5mbygpOwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0SW5wdXQoKSB7CiAgICAgIHRoaXMudXBkYXRlRGF0YSgpOwogICAgfSwKICAgIGdldFZlY2hpY2xlSW5mbygpIHsKICAgICAgZmlyZWJhc2UKICAgICAgICAuZmlyZXN0b3JlKCkKICAgICAgICAuY29sbGVjdGlvbigidmVoaWNsZXMiKQogICAgICAgIC5kb2ModGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIC5nZXQoKQogICAgICAgIC50aGVuKChzbmFwc2hvdCkgPT4gewogICAgICAgICAgdGhpcy5mb3JtVmFsdWVzID0geyAuLi5zbmFwc2hvdC5kYXRhKCkgfTsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJlcnJvck1lc3NhZ2UiLCAiU29tZXRoaW5nIFdlbnQgV3JvbmcuIik7CiAgICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlRGF0YSgpIHsKICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKCiAgICAgIGZpcmViYXNlCiAgICAgICAgLmZpcmVzdG9yZSgpCiAgICAgICAgLmNvbGxlY3Rpb24oInZlaGljbGVzIikKICAgICAgICAuZG9jKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAudXBkYXRlKHRoaXMuZm9ybVZhbHVlcykKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJzdWNjZXNzTWVzc2FnZSIsICJVcGRhdGVkIFN1Y2Nlc3NmdWwiKTsKICAgICAgICAgIHRoaXMuJGVtaXQoIm5leHQiKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJlcnJvck1lc3NhZ2UiLCAiU29tZXRoaW5nIFdlbnQgTWlzc2luZy4iKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["VehicleInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VehicleInfo.vue","sourceRoot":"src/components/DriverComponents","sourcesContent":["<template>\n  <el-row>\n    <el-form ref=\"form\" label-position=\"top\" label-width=\"120px\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"Manufacturer\">\n            <el-input\n              :rules=\"requiredRules\"\n              v-model=\"formValues.manufacturer\"\n              placeholder=\"Manufacturer\"\n            ></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"Model Name\">\n            <el-input\n              v-model=\"formValues.modelName\"\n              :rules=\"requiredRules\"\n              placeholder=\"Model Name\"\n            ></el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"20\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"Model Year\">\n            <el-input\n              :rules=\"requiredRules\"\n              v-model=\"formValues.modelYear\"\n              placeholder=\"Model Year\"\n            ></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"License Number Plate\">\n            <el-input\n              v-model=\"formValues.licensePlateNumber\"\n              :rules=\"requiredRules\"\n              placeholder=\"License Number Plate\"\n            ></el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"20\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"Vehicle Color\">\n            <el-input\n              :rules=\"requiredRules\"\n              v-model=\"formValues.vehicleColor\"\n              placeholder=\"Vehicle Color\"\n            ></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"Number of Seats\">\n            <el-input\n              v-model=\"formValues.numberOfSeats\"\n              :rules=\"requiredRules\"\n              placeholder=\"Number of Seats\"\n            ></el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitInput\" round>Save</el-button>\n      </el-form-item>\n    </el-form>\n  </el-row>\n</template>\n\n<script>\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport { EventService } from \"../../main\";\n\nexport default {\n  data() {\n    return {\n      formValues: {\n        manufacturer: \"\",\n        modelName: \"\",\n        modelYear: \"\",\n        licensePlateNumber: \"\",\n        vehicleColor: \"\",\n        numberOfSeats: \"\",\n      },\n      requiredRules: [(v) => !!v || \"This is required\"],\n      emailRules: [\n        (v) => !!v || \"E-mail is required\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail must be valid\",\n      ],\n    };\n  },\n  created() {\n    this.getVechicleInfo();\n  },\n  methods: {\n    submitInput() {\n      this.updateData();\n    },\n    getVechicleInfo() {\n      firebase\n        .firestore()\n        .collection(\"vehicles\")\n        .doc(this.$route.params.id)\n        .get()\n        .then((snapshot) => {\n          this.formValues = { ...snapshot.data() };\n          EventService.$emit(\"loading\", \"hide\");\n        })\n        .catch((error) => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\"errorMessage\", \"Something Went Wrong.\");\n        });\n    },\n    updateData() {\n      EventService.$emit(\"loading\", \"show\");\n\n      firebase\n        .firestore()\n        .collection(\"vehicles\")\n        .doc(this.$route.params.id)\n        .update(this.formValues)\n        .then(() => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\"successMessage\", \"Updated Successful\");\n          this.$emit(\"next\");\n        })\n        .catch(() => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\"errorMessage\", \"Something Went Missing.\");\n        });\n    },\n  },\n};\n</script>\n<style>\n.p-50 {\n  padding-right: 50px;\n}\n</style>\n"]}]}