{"remainingRequest":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vue/mViteDashboard/src/components/Drivers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/src/components/Drivers.vue","mtime":1615844764129},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOwpjb25zdCBkYiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpOwpjb25zdCBkcml2ZXJSZWYgPSBkYi5jb2xsZWN0aW9uKCJkcml2ZXJzIik7CmNvbnN0IG15RWFybmluZ1JlZiA9IGRiLmNvbGxlY3Rpb24oImRhaWx5RWFybmluZ3MiKTsKaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSAiLi4vbWFpbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgdGFiczogWwogICAgICB7CiAgICAgICAgdGV4dDogIkFsbCIsCiAgICAgICAgbmFtZTogImZpcnN0IiwKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJBY3RpdmUiLAogICAgICAgIG5hbWU6ICJzZWNvbmQiLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIkJsb2NrZWQiLAogICAgICAgIG5hbWU6ICJ0aGlyZCIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiTmV3IiwKICAgICAgICBuYW1lOiAiZm9ydGgiLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIkluY29tcGxldGUiLAogICAgICAgIG5hbWU6ICJmaWZ0aCIsCiAgICAgIH0sCiAgICBdLAogICAgc2VhcmNoX2J5OiAiIiwKICAgIHN0YXR1czogIkFsbCIsCiAgICBzZWFyY2g6ICIiLAogICAgZHJpdmVyRGF0YTogW10sCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIHN0YXR1czogIiIsCiAgICBzaG93RmlsdGVyczogZmFsc2UsCiAgICBmaWx0ZXJzOiB7CiAgICAgIGZ1bGxfbmFtZTogIiIsCiAgICAgIHBob25lX251bWJlcjogIiIsCiAgICAgIGVtYWlsOiAiIiwKICAgIH0sCgogICAgYWN0aXZlTmFtZTogImZpcnN0IiwKICAgIHBhZ2luYXRpb25EYXRhOiB7CiAgICAgIHBlclBhZ2U6IDEwLAogICAgICBjdXJyZW50UGFnZTogMCwKICAgICAgcGVyUGFnZU9wdGlvbnM6IFsxMCwgMjAsIDUwXSwKICAgICAgdG90YWw6IDAsCiAgICB9LAogICAgZGFpbHlFYXJuaW5nRGV0YWlsOiB7CiAgICAgIHRvdGFsX2Vhcm5pbmdzOiAwLAogICAgfSwKICAgIGRyaXZlckRldGFpbHNEaWFsb2c6IGZhbHNlLAogICAgY3VycmVudFJvdzogbnVsbCwKICB9KSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RHJpdmVycygpOwogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICB0aGlzLmFjdGl2ZU5hbWUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB9IGVsc2UgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2RyaXZlcnMvZmlyc3QiKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYWdpbmF0aW9uUGFnZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnaW5hdGlvbkRhdGEuY3VycmVudFBhZ2UgKyAxOwogICAgfSwKICAgIGRyaXZlckRldGFpbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZHJpdmVyRGF0YS5maWx0ZXIoKGVsKSA9PiB7CiAgICAgICAgaWYgKHR5cGVvZiBlbC5kcml2ZXJEb2IgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICBsZXQgZCA9IGVsLmRyaXZlckRvYjsKICAgICAgICAgIGlmICh0eXBlb2YgZWwuZHJpdmVyRG9iID09PSAib2JqZWN0IikgewogICAgICAgICAgICBkID0gbmV3IERhdGUoZWwuZHJpdmVyRG9iLnNlY29uZHMgKiAxMDAwKQogICAgICAgICAgICAgIC50b0lTT1N0cmluZygpCiAgICAgICAgICAgICAgLnNsaWNlKDAsIDEwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZCA9IG5ldyBEYXRlKGVsLmRyaXZlckRvYikudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICBkID0gZWwuZHJpdmVyRG9iOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBlbC5kcml2ZXJEb2IgPSBkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbC5kcml2ZXJEb2IgPSAiTm8gRGF0YSBBdmFpbGJsZSI7CiAgICAgICAgfQogICAgICAgIGlmIChlbC5kcml2ZXJQaG9uZU51bWJlcikgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgc3RhdHVzRmlsdGVyRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZHJpdmVyRGV0YWlsLmZpbHRlcigoZWxlKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAiQWxsIikgewogICAgICAgICAgcmV0dXJuIGVsZTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSAiQWN0aXZlIikgewogICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgZWxlLmRyaXZlclN0YXR1cyA9PT0gImNvbmZpcm1lZCIgJiYKICAgICAgICAgICAgKGVsZS5pc0Jsb2NrZWQgPT09ICJmYWxzZSIgfHwgZWxlLmlzQmxvY2tlZCA9PT0gZmFsc2UpCiAgICAgICAgICApOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09ICJCbG9ja2VkIikgewogICAgICAgICAgcmV0dXJuIGVsZS5pc0Jsb2NrZWQgPT09ICJ0cnVlIiB8fCBlbGUuaXNCbG9ja2VkID09PSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09ICJOZXciKSB7CiAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBlbGUuZHJpdmVyU3RhdHVzID09PSAicGVuZGluZyIgJiYKICAgICAgICAgICAgKGVsZS5pc0Jsb2NrZWQgPT09ICJmYWxzZSIgfHwgZWxlLmlzQmxvY2tlZCA9PT0gZmFsc2UpCiAgICAgICAgICApOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09ICJJbmNvbXBsZXRlIikgewogICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgZWxlLmRyaXZlclN0YXR1cyA9PT0gImluY29tcGxldGUiICYmCiAgICAgICAgICAgIChlbGUuaXNCbG9ja2VkID09PSAiZmFsc2UiIHx8IGVsZS5pc0Jsb2NrZWQgPT09IGZhbHNlKQogICAgICAgICAgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGVsZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHRyaXBGaWx0ZXJEYXRhKCkgewogICAgICBjb25zdCBzdGFydCA9CiAgICAgICAgICB0aGlzLnBhZ2luYXRpb25EYXRhLmN1cnJlbnRQYWdlICogdGhpcy5wYWdpbmF0aW9uRGF0YS5wZXJQYWdlLAogICAgICAgIGVuZCA9IHN0YXJ0ICsgdGhpcy5wYWdpbmF0aW9uRGF0YS5wZXJQYWdlOwogICAgICByZXR1cm4gdGhpcy5zdGF0dXNGaWx0ZXJEYXRhCiAgICAgICAgLmZpbHRlcigoZWxlKSA9PiB7CiAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBlbGUuZHJpdmVyRmlyc3ROYW1lCiAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgICAgICAgICAgICAuaW5jbHVkZXModGhpcy5maWx0ZXJzLmZ1bGxfbmFtZS50b0xvd2VyQ2FzZSgpIHx8ICIiKSAmJgogICAgICAgICAgICBlbGUuZHJpdmVyUGhvbmVOdW1iZXIKICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKQogICAgICAgICAgICAgIC5pbmNsdWRlcyh0aGlzLmZpbHRlcnMucGhvbmVfbnVtYmVyLnRvTG93ZXJDYXNlKCkgfHwgIiIpICYmCiAgICAgICAgICAgIGVsZS5kcml2ZXJFbWFpbAogICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgICAgLmluY2x1ZGVzKHRoaXMuZmlsdGVycy5lbWFpbC50b0xvd2VyQ2FzZSgpIHx8ICIiKQogICAgICAgICAgKTsKICAgICAgICB9KQogICAgICAgIC5zbGljZShzdGFydCwgZW5kKTsKICAgIH0sCgogICAgdG90YWxQcmljZSgpIHsKICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5kYWlseUVhcm5pbmdEZXRhaWwpLm1hcCgKICAgICAgICAoeCkgPT4gcGFyc2VJbnQoeC50b3RhbF9lYXJuaW5ncykgfHwgMAogICAgICApOwogICAgfSwKICAgIHRyaXBzVG90YWwoKSB7CiAgICAgIHJldHVybiB0aGlzLnRvdGFsUHJpY2UucmVkdWNlKHRoaXMuc3VtKTsKICAgIH0sCiAgICBteUVhcm5pbmcoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy50cmlwc1RvdGFsIC0gdGhpcy50cmlwc1RvdGFsICogMC4xKTsKICAgIH0sCiAgICB2aXRlRmVlcygpIHsKICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLnRyaXBzVG90YWwgKiAwLjEpOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2Uocm93LCBjb2x1bW4sIGNlbGwpIHsKICAgICAgaWYgKGNvbHVtbi5sYWJlbCAhPT0gIkFjdGlvbnMiKSB7CiAgICAgICAgdGhpcy5jdXJyZW50Um93ID0gcm93OwogICAgICAgIGxldCBkcml2ZXJpZCA9IHJvdy5kcml2ZXJJZDsKCiAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgICBteUVhcm5pbmdSZWYKICAgICAgICAgIC5kb2MoZHJpdmVyaWQpCiAgICAgICAgICAuZ2V0KCkKICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGRhdGEuZGF0YSgpOwogICAgICAgICAgICB0aGlzLmRhaWx5RWFybmluZ0RldGFpbCA9IHJlc3BvbnNlRGF0YSB8fCB7IHRvdGFsX2Vhcm5pbmdzOiAwIH07CiAgICAgICAgICAgIHRoaXMuZHJpdmVyRGV0YWlsc0RpYWxvZyA9IHRydWU7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKCJlcnJvciA9PiIsIGVycikpCiAgICAgICAgICAuZmluYWxseShFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpKTsKICAgICAgfQogICAgfSwKICAgIHN1bSh4LCB5KSB7CiAgICAgIHJldHVybiB4ICsgeTsKICAgIH0sCiAgICBzZWFyY2hCeSgpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoX2J5ID09PSAiRW1haWwiKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzLmVtYWlsID0gdGhpcy5zZWFyY2g7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2hfYnkgPT09ICJQaG9uZSBOdW1iZXIiKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzLnBob25lX251bWJlciA9IHRoaXMuc2VhcmNoOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsdGVycy5mdWxsX25hbWUgPSB0aGlzLnNlYXJjaDsKICAgICAgfQogICAgfSwKICAgIGFkZFBhZ2VOdW0ocGFnZSkgewogICAgICB0aGlzLnBhZ2luYXRpb25EYXRhLmN1cnJlbnRQYWdlID0gcGFnZSAtIDE7CiAgICB9LAogICAgZ2V0RHJpdmVycygpIHsKICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgZHJpdmVyUmVmLmdldCgpLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGRhdGEuZG9jcy5tYXAoKHZhbHVlKSA9PiB2YWx1ZS5kYXRhKCkpOwogICAgICAgIHRoaXMuZHJpdmVyRGF0YSA9IHJlc3BvbnNlOwogICAgICAgIHRoaXMucGFnaW5hdGlvbkRhdGEudG90YWwgPSByZXNwb25zZS5sZW5ndGg7CiAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB0byBjbG9zZSB0aGlzIGRpYWxvZz8iKQogICAgICAgIC50aGVuKChfKSA9PiB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRSb3cgPSBudWxsOwogICAgICAgICAgdGhpcy5kcml2ZXJEZXRhaWxzRGlhbG9nID0gZmFsc2U7CiAgICAgICAgICBkb25lKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKF8pID0+IHt9KTsKICAgIH0sCiAgICBzZXRTdGF0dXNGaWx0ZXIodGFiLCBldmVudCkgewogICAgICB0aGlzLnN0YXR1cyA9IHRhYi5sYWJlbDsKICAgICAgdGhpcy5hY3RpdmVOYW1lID0gdGFiLm5hbWU7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudHJpcEZpbHRlckRhdGEubGVuZ3RoKTsKICAgICAgY29uc29sZS5sb2codGFiKTsKICAgIH0sCgogICAgZGVsZXRlRHJpdmVyKHJvdykgewogICAgICB0aGlzLiRjb25maXJtKCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlPyIpCiAgICAgICAgLnRoZW4oKF8pID0+IHsKICAgICAgICAgIGxldCBjdXJyZW50SWQgPSByb3cuZHJpdmVyUGhvbmVOdW1iZXI7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgICAgICAgZHJpdmVyUmVmCiAgICAgICAgICAgIC5kb2MoY3VycmVudElkKQogICAgICAgICAgICAuZGVsZXRlKCkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KAogICAgICAgICAgICAgICAgInN1Y2Nlc3NNZXNzYWdlIiwKICAgICAgICAgICAgICAgICJEcml2ZXIgRGVsZXRlZCBTdWNjZXNzZnVsLiIKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIHRoaXMuZ2V0RHJpdmVycygpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgKICAgICAgICAgICAgICAgICJlcnJvck1lc3NhZ2UiLAogICAgICAgICAgICAgICAgIlNvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluLiIKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgZG9uZSgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChfKSA9PiB7fSk7CiAgICB9LAogICAgYmxvY2tEcml2ZXIocm93KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBibG9jaz8iKQogICAgICAgIC50aGVuKChfKSA9PiB7CiAgICAgICAgICBsZXQgY3VycmVudElkID0gcm93LmRyaXZlclBob25lTnVtYmVyOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgICAgIGRyaXZlclJlZgogICAgICAgICAgICAuZG9jKGN1cnJlbnRJZCkKICAgICAgICAgICAgLnVwZGF0ZSh7IGlzQmxvY2tlZDogInRydWUiIH0pCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiRHJpdmVyIGlzIEJsb2NrZWQuIik7CgogICAgICAgICAgICAgIHRoaXMuZ2V0RHJpdmVycygpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgKICAgICAgICAgICAgICAgICJlcnJvck1lc3NhZ2UiLAogICAgICAgICAgICAgICAgIlNvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluLiIKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgICAgY29uc29sZS5pbmZvKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgZG9uZSgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChfKSA9PiB7fSk7CiAgICB9LAogICAgdW5CbG9ja0RyaXZlcihyb3cpIHsKICAgICAgdGhpcy4kY29uZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGJsb2NrPyIpCiAgICAgICAgLnRoZW4oKF8pID0+IHsKICAgICAgICAgIGxldCBjdXJyZW50SWQgPSByb3cuZHJpdmVyUGhvbmVOdW1iZXI7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgICAgICAgZHJpdmVyUmVmCiAgICAgICAgICAgIC5kb2MoY3VycmVudElkKQogICAgICAgICAgICAudXBkYXRlKHsgaXNCbG9ja2VkOiAiZmFsc2UiIH0pCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiRHJpdmVyIGlzIFVuYmxvY2tlZC4iKTsKICAgICAgICAgICAgICB0aGlzLmdldERyaXZlcnMoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoCiAgICAgICAgICAgICAgICAiZXJyb3JNZXNzYWdlIiwKICAgICAgICAgICAgICAgICJTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2Fpbi4iCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIGRvbmUoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoXykgPT4ge30pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Drivers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Drivers.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"dashboard-container\">\n    <el-card class=\"card-min-height\">\n      <div class=\"card-header\">\n        <div class=\"card-title\">\n          <h3>Drivers</h3>\n        </div>\n        <div class=\"card-actions\">\n          <div class=\"input-group\">\n            <el-popover\n              trigger=\"click\"\n              class=\"filter clickable\"\n              v-model=\"showFilters\"\n            >\n              <div class=\"filter-button\" slot=\"reference\">\n                <i class=\"fas fa-filter\"></i>\n              </div>\n              <div class=\"dropdown-filter-menu\">\n                <div class=\"dropdown-filter-option\">\n                  <label>Search By</label>\n                  <el-select v-model=\"search_by\" :collapse-tags=\"true\">\n                    <el-option class=\"capitalize\" value=\"Full Name\"\n                      >Full Name\n                    </el-option>\n                    <el-option class=\"capitalize\" value=\"Email\"\n                      >Email\n                    </el-option>\n                    <el-option class=\"capitalize\" value=\"Phone Number\"\n                      >Phone Number\n                    </el-option>\n                  </el-select>\n                </div>\n              </div>\n            </el-popover>\n            <el-input\n              placeholder=\"Search Driver\"\n              @input=\"searchBy\"\n              v-model=\"search\"\n              ><i slot=\"suffix\" class=\"far fa-search\"></i\n            ></el-input>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card-body\">\n        <el-tabs\n          v-model=\"activeName\"\n          @tab-click=\"setStatusFilter\"\n          type=\"border-card\"\n        >\n          <el-tab-pane\n            :label=\"tab.text\"\n            :name=\"tab.name\"\n            v-for=\"(tab, index) in tabs\"\n            :key=\"index\"\n          >\n            <el-table\n              :data=\"tripFilterData\"\n              style=\"width: 100%\"\n              size=\"small\"\n              empty-text=\"No results found.\"\n              highlight-current-row\n              @cell-click=\"handleCurrentChange\"\n            >\n              <el-table-column\n                prop=\"driverFirstName\"\n                label=\"Full Name\"\n                class-name=\"clickable\"\n                width=\"300\"\n              >\n                <template slot-scope=\"props\">\n                  <span>\n                    <img\n                      :src=\"\n                        props.row.driverAvatarUrl === ''\n                          ? require(`@/assets/img/default-user.jpg`)\n                          : props.row.driverAvatarUrl\n                      \"\n                      class=\"img-user\"\n                      alt=\"...\"\n                    />\n                  </span>\n                  <span v-if=\"typeof props === 'object'\" class=\"driver-name\">\n                    {{\n                      `${props.row.driverFirstName} ${props.row.driverLastName}`\n                    }}\n                  </span>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"Online\" width=\"70\" class-name=\"clickable\">\n                <template slot-scope=\"props\">\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    placement=\"right\"\n                    :content=\"\n                      props.row.driverAvailibility === 'online'\n                        ? 'Driver Online'\n                        : 'Driver Offline'\n                    \"\n                  >\n                    <div class=\"text-center\">\n                      <i\n                        class=\"fa fa-circle\"\n                        :class=\"\n                          props.row.driverAvailibility === 'online'\n                            ? 'green-text'\n                            : 'grey-text'\n                        \"\n                      ></i>\n                    </div>\n                  </el-tooltip>\n                </template>\n              </el-table-column>\n              <el-table-column\n                class-name=\"clickable\"\n                prop=\"driverPhoneNumber\"\n                label=\"Phone #\"\n                width=\"120\"\n              >\n              </el-table-column>\n              <el-table-column\n                prop=\"driverEmail\"\n                label=\"Email\"\n                width=\"230\"\n                class-name=\"clickable\"\n              >\n              </el-table-column>\n              <el-table-column\n                prop=\"driverDob\"\n                label=\"DOB\"\n                width=\"130\"\n                class-name=\"clickable\"\n              >\n              </el-table-column>\n              <el-table-column\n                prop=\"reg_date\"\n                label=\"Reg Date\"\n                width=\"130\"\n                class-name=\"clickable\"\n              >\n                <template slot-scope=\"props\">\n                  {{ props.row.reg_date || \"No Data Available\" }}\n                </template>\n              </el-table-column>\n              <el-table-column\n                prop=\"totalTrips\"\n                class-name=\"clickable\"\n                label=\"Total Trips\"\n                width=\"130\"\n              >\n                <template slot-scope=\"props\">\n                  {{ props.row.totalTrips || \"No Data Available\" }}\n                </template>\n              </el-table-column>\n              <el-table-column fixed=\"right\" label=\"Actions\" width=\"140\">\n                <template slot-scope=\"props\">\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Block Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"info\"\n                      icon=\"el-icon-close\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"blockDriver(props.row)\"\n                      v-if=\"\n                        ['confirmed', 'incomplete'].includes(\n                          props.row.driverStatus\n                        ) &&\n                          (props.row.isBlocked === 'false' ||\n                            props.row.isBlocked === false)\n                      \"\n                    ></el-button>\n                  </el-tooltip>\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Unblock Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"info\"\n                      icon=\"el-icon-check\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"unBlockDriver(props.row)\"\n                      v-if=\"\n                        props.row.isBlocked === 'true' ||\n                          props.row.isBlocked === true\n                      \"\n                    ></el-button>\n                  </el-tooltip>\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Edit Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"primary\"\n                      icon=\"el-icon-edit\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"\n                        $router.push(\n                          `/drivers/edit/${props.row.driverPhoneNumber}`\n                        )\n                      \"\n                    ></el-button>\n                  </el-tooltip>\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Delete Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"danger\"\n                      icon=\"el-icon-delete\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"deleteDriver(props.row)\"\n                    ></el-button>\n                  </el-tooltip>\n                </template>\n              </el-table-column>\n            </el-table>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n      <div class=\"pagination block\">\n        <span\n          >Showing {{ paginationData.perPage }} of\n          {{ paginationData.total }} Total Results</span\n        >\n        <el-pagination\n          background\n          layout=\"prev, pager, next\"\n          :current-page=\"paginationPage\"\n          :page-size=\"paginationData.perPage\"\n          :total=\"paginationData.total\"\n          small\n          @current-change=\"addPageNum\"\n        ></el-pagination>\n        <el-select\n          class=\"per-page-select\"\n          size=\"mini\"\n          v-model=\"paginationData.perPage\"\n        >\n          <el-option\n            v-for=\"option in paginationData.perPageOptions\"\n            :value=\"option\"\n            :key=\"option\"\n            >{{ option }}\n          </el-option>\n        </el-select>\n      </div>\n    </el-card>\n    <el-dialog\n      title=\"Driver Details\"\n      :visible.sync=\"driverDetailsDialog\"\n      width=\"75%\"\n      custom-class=\"driver-dialog\"\n      :before-close=\"handleCloseDialog\"\n    >\n      <el-row :gutter=\"20\">\n        <el-col :span=\"8\">\n          <el-card class=\"box-card clickable\" shadow=\"hover\">\n            <el-row>\n              <el-col :span=\"18\">\n                <div class=\"o-card-title-3\">\n                  Trips Total\n                </div>\n                <div class=\"o-card-data text-center\">\n                  {{ tripsTotal }}\n                </div>\n              </el-col>\n              <el-col :span=\"6\">\n                <div class=\"o-card-icon\">\n                  <i class=\"fal fa-suitcase-rolling\"></i>\n                </div>\n              </el-col>\n            </el-row>\n          </el-card>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-card class=\"box-card clickable\" shadow=\"hover\">\n            <el-row>\n              <el-col :span=\"18\">\n                <div class=\"o-card-title-3\">\n                  Driver Earning\n                </div>\n                <div class=\"o-card-data text-center\">\n                  {{ myEarning }}\n                </div>\n              </el-col>\n              <el-col :span=\"6\">\n                <div class=\"o-card-icon\">\n                  <i class=\"fal fa-money-bill-wave\"></i>\n                </div>\n              </el-col>\n            </el-row>\n          </el-card>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-card class=\"box-card clickable\" shadow=\"hover\">\n            <el-row>\n              <el-col :span=\"18\">\n                <div class=\"o-card-title-3\">\n                  Vite Earning\n                </div>\n                <div class=\"o-card-data text-center\">\n                  {{ viteFees }}\n                </div>\n              </el-col>\n              <el-col :span=\"6\">\n                <div class=\"o-card-icon\">\n                  <i class=\"fal fa-money-check-alt\"></i>\n                </div>\n              </el-col>\n            </el-row>\n          </el-card>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"20\" v-if=\"currentRow !== null\">\n        <el-col :span=\"8\">\n          <el-card class=\"box-card clickable\" shadow=\"hover\">\n            <el-row>\n              <el-col :span=\"18\">\n                <div class=\"o-card-title-3\">\n                  Accepted Trips\n                </div>\n                <div class=\"o-card-data text-center\">\n                  {{ currentRow.acceptedTrips }}\n                </div>\n              </el-col>\n              <el-col :span=\"6\">\n                <div class=\"o-card-icon\">\n                  <i class=\"fal fa-comment-alt-check\"></i>\n                </div>\n              </el-col>\n            </el-row>\n          </el-card>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-card class=\"box-card clickable\" shadow=\"hover\">\n            <el-row>\n              <el-col :span=\"18\">\n                <div class=\"o-card-title-3\">\n                  Cancelled Trips\n                </div>\n                <div class=\"o-card-data text-center\">\n                  {{ currentRow.canceledTrips }}\n                </div>\n              </el-col>\n              <el-col :span=\"6\">\n                <div class=\"o-card-icon\">\n                  <i class=\"fal fa-window-close\"></i>\n                </div>\n              </el-col>\n            </el-row>\n          </el-card>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-card class=\"box-card clickable\" shadow=\"hover\">\n            <el-row>\n              <el-col :span=\"18\">\n                <div class=\"o-card-title-3\">\n                  Missed Trips\n                </div>\n                <div class=\"o-card-data text-center\">\n                  {{ currentRow.missedTrips }}\n                </div>\n              </el-col>\n              <el-col :span=\"6\">\n                <div class=\"o-card-icon\">\n                  <i class=\"fal fa-map-marker-slash\"></i>\n                </div>\n              </el-col>\n            </el-row>\n          </el-card>\n        </el-col>\n      </el-row>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"handleCloseDialog\">Close</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport firebase from \"firebase/app\";\nconst db = firebase.firestore();\nconst driverRef = db.collection(\"drivers\");\nconst myEarningRef = db.collection(\"dailyEarnings\");\nimport { EventService } from \"../main\";\nexport default {\n  data: () => ({\n    tabs: [\n      {\n        text: \"All\",\n        name: \"first\",\n      },\n      {\n        text: \"Active\",\n        name: \"second\",\n      },\n      {\n        text: \"Blocked\",\n        name: \"third\",\n      },\n      {\n        text: \"New\",\n        name: \"forth\",\n      },\n      {\n        text: \"Incomplete\",\n        name: \"fifth\",\n      },\n    ],\n    search_by: \"\",\n    status: \"All\",\n    search: \"\",\n    driverData: [],\n    loading: false,\n    status: \"\",\n    showFilters: false,\n    filters: {\n      full_name: \"\",\n      phone_number: \"\",\n      email: \"\",\n    },\n\n    activeName: \"first\",\n    paginationData: {\n      perPage: 10,\n      currentPage: 0,\n      perPageOptions: [10, 20, 50],\n      total: 0,\n    },\n    dailyEarningDetail: {\n      total_earnings: 0,\n    },\n    driverDetailsDialog: false,\n    currentRow: null,\n  }),\n\n  created() {\n    this.getDrivers();\n    if (this.$route.params.id) {\n      this.activeName = this.$route.params.id;\n    } else {\n      this.$router.push(\"/drivers/first\");\n    }\n  },\n  computed: {\n    paginationPage() {\n      return this.paginationData.currentPage + 1;\n    },\n    driverDetail() {\n      return this.driverData.filter((el) => {\n        if (typeof el.driverDob !== \"undefined\") {\n          let d = el.driverDob;\n          if (typeof el.driverDob === \"object\") {\n            d = new Date(el.driverDob.seconds * 1000)\n              .toISOString()\n              .slice(0, 10);\n          } else {\n            try {\n              d = new Date(el.driverDob).toISOString().slice(0, 10);\n            } catch (e) {\n              d = el.driverDob;\n            }\n          }\n          el.driverDob = d;\n        } else {\n          el.driverDob = \"No Data Availble\";\n        }\n        if (el.driverPhoneNumber) {\n          return true;\n        }\n        return false;\n      });\n    },\n    statusFilterData() {\n      return this.driverDetail.filter((ele) => {\n        if (this.status === \"All\") {\n          return ele;\n        } else if (this.status === \"Active\") {\n          return (\n            ele.driverStatus === \"confirmed\" &&\n            (ele.isBlocked === \"false\" || ele.isBlocked === false)\n          );\n        } else if (this.status === \"Blocked\") {\n          return ele.isBlocked === \"true\" || ele.isBlocked === true;\n        } else if (this.status === \"New\") {\n          return (\n            ele.driverStatus === \"pending\" &&\n            (ele.isBlocked === \"false\" || ele.isBlocked === false)\n          );\n        } else if (this.status === \"Incomplete\") {\n          return (\n            ele.driverStatus === \"incomplete\" &&\n            (ele.isBlocked === \"false\" || ele.isBlocked === false)\n          );\n        } else {\n          return ele;\n        }\n      });\n    },\n    tripFilterData() {\n      const start =\n          this.paginationData.currentPage * this.paginationData.perPage,\n        end = start + this.paginationData.perPage;\n      return this.statusFilterData\n        .filter((ele) => {\n          return (\n            ele.driverFirstName\n              .toLowerCase()\n              .includes(this.filters.full_name.toLowerCase() || \"\") &&\n            ele.driverPhoneNumber\n              .toLowerCase()\n              .includes(this.filters.phone_number.toLowerCase() || \"\") &&\n            ele.driverEmail\n              .toLowerCase()\n              .includes(this.filters.email.toLowerCase() || \"\")\n          );\n        })\n        .slice(start, end);\n    },\n\n    totalPrice() {\n      return Object.values(this.dailyEarningDetail).map(\n        (x) => parseInt(x.total_earnings) || 0\n      );\n    },\n    tripsTotal() {\n      return this.totalPrice.reduce(this.sum);\n    },\n    myEarning() {\n      return Math.ceil(this.tripsTotal - this.tripsTotal * 0.1);\n    },\n    viteFees() {\n      return Math.ceil(this.tripsTotal * 0.1);\n    },\n  },\n  methods: {\n    handleCurrentChange(row, column, cell) {\n      if (column.label !== \"Actions\") {\n        this.currentRow = row;\n        let driverid = row.driverId;\n\n        EventService.$emit(\"loading\", \"show\");\n        myEarningRef\n          .doc(driverid)\n          .get()\n          .then((data) => {\n            const responseData = data.data();\n            this.dailyEarningDetail = responseData || { total_earnings: 0 };\n            this.driverDetailsDialog = true;\n          })\n          .catch((err) => console.log(\"error =>\", err))\n          .finally(EventService.$emit(\"loading\", \"hide\"));\n      }\n    },\n    sum(x, y) {\n      return x + y;\n    },\n    searchBy() {\n      if (this.search_by === \"Email\") {\n        this.filters.email = this.search;\n      } else if (this.search_by === \"Phone Number\") {\n        this.filters.phone_number = this.search;\n      } else {\n        this.filters.full_name = this.search;\n      }\n    },\n    addPageNum(page) {\n      this.paginationData.currentPage = page - 1;\n    },\n    getDrivers() {\n      EventService.$emit(\"loading\", \"show\");\n      driverRef.get().then((data) => {\n        const response = data.docs.map((value) => value.data());\n        this.driverData = response;\n        this.paginationData.total = response.length;\n        EventService.$emit(\"loading\", \"hide\");\n      });\n    },\n    handleCloseDialog() {\n      this.$confirm(\"Are you sure to close this dialog?\")\n        .then((_) => {\n          this.currentRow = null;\n          this.driverDetailsDialog = false;\n          done();\n        })\n        .catch((_) => {});\n    },\n    setStatusFilter(tab, event) {\n      this.status = tab.label;\n      this.activeName = tab.name;\n      console.log(this.tripFilterData.length);\n      console.log(tab);\n    },\n\n    deleteDriver(row) {\n      this.$confirm(\"Are you sure you want to delete?\")\n        .then((_) => {\n          let currentId = row.driverPhoneNumber;\n          EventService.$emit(\"loading\", \"show\");\n          driverRef\n            .doc(currentId)\n            .delete()\n            .then(() => {\n              EventService.$emit(\"loading\", \"show\");\n              EventService.$emit(\n                \"successMessage\",\n                \"Driver Deleted Successful.\"\n              );\n              this.getDrivers();\n            })\n            .catch(() => {\n              EventService.$emit(\n                \"errorMessage\",\n                \"Something went wrong, please try again.\"\n              );\n              EventService.$emit(\"loading\", \"hide\");\n            });\n          done();\n        })\n        .catch((_) => {});\n    },\n    blockDriver(row) {\n      this.$confirm(\"Are you sure you want to block?\")\n        .then((_) => {\n          let currentId = row.driverPhoneNumber;\n          EventService.$emit(\"loading\", \"show\");\n          driverRef\n            .doc(currentId)\n            .update({ isBlocked: \"true\" })\n            .then(() => {\n              EventService.$emit(\"loading\", \"hide\");\n              EventService.$emit(\"successMessage\", \"Driver is Blocked.\");\n\n              this.getDrivers();\n            })\n            .catch((err) => {\n              EventService.$emit(\n                \"errorMessage\",\n                \"Something went wrong, please try again.\"\n              );\n              EventService.$emit(\"loading\", \"hide\");\n              console.info(err);\n            });\n          done();\n        })\n        .catch((_) => {});\n    },\n    unBlockDriver(row) {\n      this.$confirm(\"Are you sure you want to block?\")\n        .then((_) => {\n          let currentId = row.driverPhoneNumber;\n          EventService.$emit(\"loading\", \"show\");\n          driverRef\n            .doc(currentId)\n            .update({ isBlocked: \"false\" })\n            .then(() => {\n              EventService.$emit(\"loading\", \"hide\");\n              EventService.$emit(\"successMessage\", \"Driver is Unblocked.\");\n              this.getDrivers();\n            })\n            .catch((err) => {\n              EventService.$emit(\n                \"errorMessage\",\n                \"Something went wrong, please try again.\"\n              );\n              EventService.$emit(\"loading\", \"hide\");\n              console.info(err);\n            });\n          done();\n        })\n        .catch((_) => {});\n    },\n  },\n};\n</script>\n\n<style scoped>\n.grey-text {\n  color: #cecece;\n}\n.green-text {\n  color: darkgreen;\n}\n\n.img-user {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n}\n\n.driver-name {\n  position: absolute;\n  top: 26px;\n  left: 80px;\n}\n.text-center {\n  text-align: center;\n}\n</style>\n"]}]}