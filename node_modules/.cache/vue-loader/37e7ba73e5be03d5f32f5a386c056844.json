{"remainingRequest":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/src/components/Registration/PersonalInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/src/components/Registration/PersonalInformation.vue","mtime":1619376989164},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/babel-loader/lib/index.js","mtime":1618923163808},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1618923176918},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/vue-loader/lib/index.js","mtime":1618923178100}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICIuLi8uLi9wbHVnaW5zL2ZpcmViYXNlIjsKY29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKY29uc3QgcmVmID0gZGIuY29sbGVjdGlvbigiZHJpdmVycyIpOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi8uLi9tYWluLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBhY3Rpb25EYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZHJpdmVyRmlyc3ROYW1lOiAiIiwKICAgICAgICAgIGRyaXZlckxhc3ROYW1lOiAiIiwKICAgICAgICAgIGRyaXZlckVtYWlsOiAiIiwKICAgICAgICAgIGRyaXZlckdlbmRlcjogIiIsCiAgICAgICAgICBkcml2ZXJIb21lQWRkcmVzczogIiIsCiAgICAgICAgICBkcml2ZXJQaG9uZU51bWJlcjogIiIsCiAgICAgICAgICBkcml2ZXJEb2I6ICIiLAogICAgICAgIH07CiAgICAgIH0sCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1WYWx1ZXM6IHt9LAogICAgICByZXF1aXJlZFJ1bGVzOiBbKHYpID0+ICEhdiB8fCAiVGhpcyBpcyByZXF1aXJlZCJdLAogICAgICBlbWFpbFJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAiRS1tYWlsIGlzIHJlcXVpcmVkIiwKICAgICAgICAodikgPT4gLy4rQC4rXC4uKy8udGVzdCh2KSB8fCAiRS1tYWlsIG11c3QgYmUgdmFsaWQiLAogICAgICBdLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAoCiAgICAgIHRoaXMuYWN0aW9uRGF0YS5kcml2ZXJGaXJzdE5hbWUgIT0gIiIgJiYKICAgICAgdGhpcy5hY3Rpb25EYXRhLmRyaXZlckxhc3ROYW1lICE9ICIiICYmCiAgICAgIHRoaXMuYWN0aW9uRGF0YS5kcml2ZXJFbWFpbCAhPSAiIiAmJgogICAgICB0aGlzLmFjdGlvbkRhdGEuZHJpdmVyR2VuZGVyICE9ICIiICYmCiAgICAgIHRoaXMuYWN0aW9uRGF0YS5kcml2ZXJIb21lQWRkcmVzcyAhPSAiIiAmJgogICAgICB0aGlzLmFjdGlvbkRhdGEuZHJpdmVyUGhvbmVOdW1iZXIgIT0gIiIgJiYKICAgICAgdGhpcy5hY3Rpb25EYXRhLmRyaXZlckRvYiAhPSAiIgogICAgKSB7CiAgICAgIHRoaXMuZm9ybVZhbHVlcyA9IHsgLi4udGhpcy5hY3Rpb25EYXRhIH07CiAgICB9IGVsc2UgewogICAgICB0aGlzLmZvcm1WYWx1ZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRoVXNlciIpKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZURhdGEoKSB7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIC8vICAgY29uc29sZS5sb2codGhpcy5hY3Rpb25EYXRhKTsKICAgICAgcmVmCiAgICAgICAgLmRvYyh0aGlzLmFjdGlvbkRhdGEuZHJpdmVySWQpCiAgICAgICAgLnVwZGF0ZSh0aGlzLmZvcm1WYWx1ZXMpCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKCiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoCiAgICAgICAgICAgICJzdWNjZXNzTWVzc2FnZSIsCiAgICAgICAgICAgICJTdWNjZXNzZnVsbHkgVXBkYXRlZCBZb3VyIEluZm9ybWF0aW9uLiIKICAgICAgICAgICk7CiAgICAgICAgICAvLyB0aGlzLnNldE5vdGlmeU1lc3NhZ2UoIlN1Y2Nlc3NmdWxseSBVcGRhdGVkIFlvdXIgSW5mb3JtYXRpb24uIik7CgogICAgICAgICAgdGhpcy4kZW1pdCgicmVmcmVzaCIpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CgogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJlcnJvck1lc3NhZ2UiLCAiU29tZXRoaW5nIHdlbnQgd3JvbmcuIik7CiAgICAgICAgICAvLyB0aGlzLnNldE5vdGlmeUVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwogICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["PersonalInformation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"PersonalInformation.vue","sourceRoot":"src/components/Registration","sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :md=\"8\">\n        <el-input\n          type=\"text\"\n          placeholder=\"First Name\"\n          v-model=\"formValues.driverFirstName\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :md=\"8\">\n        <el-input\n          type=\"text\"\n          placeholder=\"Last Name\"\n          v-model=\"formValues.driverLastName\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :md=\"8\">\n        <el-input\n          type=\"email\"\n          placeholder=\"Email\"\n          v-model=\"formValues.driverEmail\"\n          :rules=\"emailRules\"\n        ></el-input>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :md=\"12\">\n        <el-input\n          type=\"text\"\n          placeholder=\"Date Of Birth (MM/DD/YYYY)\"\n          v-model=\"formValues.driverDob\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n      <el-col :md=\"12\">\n        <el-row>\n          <el-col :span=\"6\"><h4>Gender:</h4></el-col>\n          <el-col v-for=\"(item, i) in ['Male', 'Female']\" :key=\"i\" :span=\"6\">\n            <el-button\n              :type=\"formValues.driverGender === item ? 'primary' : ''\"\n              @click=\"formValues.driverGender = item\"\n              >{{ item }}</el-button\n            >\n          </el-col>\n        </el-row>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"24\">\n        <el-input\n          type=\"textarea\"\n          :rows=\"3\"\n          :rules=\"requiredRules\"\n          v-model=\"formValues.driverHomeAddress\"\n          placeholder=\"Please input\"\n        >\n        </el-input>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\" class=\"mt-2\">\n      <el-col :span=\"12\">\n        <el-button type=\"warning\" class=\"float-right\" @click=\"$emit('close')\">\n          Cancel\n        </el-button>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-button type=\"primary\" @click=\"updateData()\">\n          Save\n        </el-button>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\nimport firebase from \"../../plugins/firebase\";\nconst db = firebase.firestore();\nconst ref = db.collection(\"drivers\");\nimport { EventService } from \"../../main.js\";\nexport default {\n  props: {\n    actionData: {\n      type: Object,\n      default() {\n        return {\n          driverFirstName: \"\",\n          driverLastName: \"\",\n          driverEmail: \"\",\n          driverGender: \"\",\n          driverHomeAddress: \"\",\n          driverPhoneNumber: \"\",\n          driverDob: \"\",\n        };\n      },\n    },\n  },\n  data() {\n    return {\n      formValues: {},\n      requiredRules: [(v) => !!v || \"This is required\"],\n      emailRules: [\n        (v) => !!v || \"E-mail is required\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail must be valid\",\n      ],\n    };\n  },\n  created() {\n    if (\n      this.actionData.driverFirstName != \"\" &&\n      this.actionData.driverLastName != \"\" &&\n      this.actionData.driverEmail != \"\" &&\n      this.actionData.driverGender != \"\" &&\n      this.actionData.driverHomeAddress != \"\" &&\n      this.actionData.driverPhoneNumber != \"\" &&\n      this.actionData.driverDob != \"\"\n    ) {\n      this.formValues = { ...this.actionData };\n    } else {\n      this.formValues = JSON.parse(localStorage.getItem(\"authUser\"));\n    }\n  },\n  methods: {\n    updateData() {\n      EventService.$emit(\"loading\", \"show\");\n      //   console.log(this.actionData);\n      ref\n        .doc(this.actionData.driverId)\n        .update(this.formValues)\n        .then(() => {\n          EventService.$emit(\"loading\", \"hide\");\n\n          EventService.$emit(\n            \"successMessage\",\n            \"Successfully Updated Your Information.\"\n          );\n          // this.setNotifyMessage(\"Successfully Updated Your Information.\");\n\n          this.$emit(\"refresh\");\n        })\n        .catch(() => {\n          EventService.$emit(\"loading\", \"hide\");\n\n          EventService.$emit(\"errorMessage\", \"Something went wrong.\");\n          // this.setNotifyError(\"Something went wrong\");\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.float-right {\n  float: right;\n}\n.mt-2 {\n  margin-top: 2rem;\n}\n</style>\n"]}]}