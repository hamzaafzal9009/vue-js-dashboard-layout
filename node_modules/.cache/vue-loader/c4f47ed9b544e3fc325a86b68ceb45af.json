{"remainingRequest":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/src/components/Vehicle.vue?vue&type=style&index=0&id=611dfca2&scoped=true&lang=css&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/src/components/Vehicle.vue","mtime":1619367486438},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/css-loader/dist/cjs.js","mtime":1618923177229},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1618923178100},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/postcss-loader/src/index.js","mtime":1618923177860},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1618923176918},{"path":"/Library/WebServer/Documents/Projects/vite/m-driver-dashboard/node_modules/vue-loader/lib/index.js","mtime":1618923178100}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmZsb2F0LXJpZ2h0IHsKICBmbG9hdDogcmlnaHQ7Cn0K"},{"version":3,"sources":["Vehicle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkQA;AACA;AACA","file":"Vehicle.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"dashboard-container\">\n    <el-row>\n      <el-col :span=\"12\">\n        <h3>Vehicle Information</h3>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-edit\"\n          class=\"float-right\"\n          @click=\"dialogFormVisible = true\"\n        >\n          Edit\n        </el-button>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :md=\"8\">\n        <el-card class=\"box-card clickable\" shadow=\"hover\">\n          <el-row>\n            <el-col :span=\"18\">\n              <div class=\"o-card-title-3\">\n                Manufacturer\n              </div>\n              <div class=\"o-card-data\" v-show=\"!showLoading\">\n                {{ vehicleDetail.manufacturer }}\n              </div>\n              <div class=\"dashboard-row dashboard-loader\" v-show=\"showLoading\">\n                <i class=\"el-icon-loading\"></i>\n              </div>\n            </el-col>\n            <el-col :span=\"6\">\n              <div class=\"o-card-icon\">\n                <i class=\"fal fa-car-side\"></i>\n              </div>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-col>\n\n      <el-col :md=\"8\">\n        <el-card class=\"box-card clickable\" shadow=\"hover\">\n          <el-row>\n            <el-col :span=\"18\">\n              <div class=\"o-card-title-3\">\n                Model Name\n              </div>\n              <div class=\"o-card-data\" v-show=\"!showLoading\">\n                {{ vehicleDetail.modelName }}\n              </div>\n              <div class=\"dashboard-row dashboard-loader\" v-show=\"showLoading\">\n                <i class=\"el-icon-loading\"></i>\n              </div>\n            </el-col>\n            <el-col :span=\"6\">\n              <div class=\"o-card-icon\">\n                <i class=\"fal fa-car-alt\"></i>\n              </div>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-col>\n\n      <el-col :md=\"8\">\n        <el-card class=\"box-card clickable\" shadow=\"hover\">\n          <el-row>\n            <el-col :span=\"18\">\n              <div class=\"o-card-title-3\">\n                Model year\n              </div>\n              <div class=\"o-card-data\" v-show=\"!showLoading\">\n                {{ vehicleDetail.modelYear }}\n              </div>\n              <div class=\"dashboard-row dashboard-loader\" v-show=\"showLoading\">\n                <i class=\"el-icon-loading\"></i>\n              </div>\n            </el-col>\n            <el-col :span=\"6\">\n              <div class=\"o-card-icon\">\n                <i class=\"fal fa-calendar-day\"></i>\n              </div>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <el-row :gutter=\"20\">\n      <el-col :md=\"8\">\n        <el-card class=\"box-card clickable\" shadow=\"hover\">\n          <el-row>\n            <el-col :span=\"18\">\n              <div class=\"o-card-title-3\">\n                License Number\n              </div>\n              <div class=\"o-card-data\" v-show=\"!showLoading\">\n                {{ vehicleDetail.licensePlateNumber }}\n              </div>\n              <div class=\"dashboard-row dashboard-loader\" v-show=\"showLoading\">\n                <i class=\"el-icon-loading\"></i>\n              </div>\n            </el-col>\n            <el-col :span=\"6\">\n              <div class=\"o-card-icon\">\n                <i class=\"fal fa-id-badge\"></i>\n              </div>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-col>\n\n      <el-col :md=\"8\">\n        <el-card class=\"box-card clickable\" shadow=\"hover\">\n          <el-row>\n            <el-col :span=\"18\">\n              <div class=\"o-card-title-3\">\n                Vehicle Color\n              </div>\n              <div class=\"o-card-data\" v-show=\"!showLoading\">\n                {{ vehicleDetail.vehicleColor }}\n              </div>\n              <div class=\"dashboard-row dashboard-loader\" v-show=\"showLoading\">\n                <i class=\"el-icon-loading\"></i>\n              </div>\n            </el-col>\n            <el-col :span=\"6\">\n              <div class=\"o-card-icon\">\n                <i class=\"fal fa-paint-brush\"></i>\n              </div>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-col>\n\n      <el-col :md=\"8\">\n        <el-card class=\"box-card clickable\" shadow=\"hover\">\n          <el-row>\n            <el-col :span=\"18\">\n              <div class=\"o-card-title-3\">\n                No of Seats\n              </div>\n              <div class=\"o-card-data\" v-show=\"!showLoading\">\n                {{ vehicleDetail.numberOfSeats }}\n              </div>\n              <div class=\"dashboard-row dashboard-loader\" v-show=\"showLoading\">\n                <i class=\"el-icon-loading\"></i>\n              </div>\n            </el-col>\n            <el-col :span=\"6\">\n              <div class=\"o-card-icon\">\n                <i class=\"fal fa-loveseat\"></i>\n              </div>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-col>\n    </el-row>\n    <el-dialog\n      title=\"Update Vehicle Information\"\n      :visible.sync=\"dialogFormVisible\"\n      width=\"70%\"\n      center\n      :before-close=\"handleClose\"\n    >\n      <VehicleInformation\n        :title=\"'Update Your Details'\"\n        @close=\"dialogFormVisible = false\"\n        :action-data=\"vehicleDetail\"\n        @refresh=\"getVechicleInfo(), (dialogFormVisible = false)\"\n      ></VehicleInformation>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { EventService } from \"../main.js\";\nimport VehicleInformation from \"./Registration/VehicleInformation\";\nimport firebase from \"../plugins/firebase\";\nconst db = firebase.firestore();\nconst ref = db.collection(\"vehicles\");\nexport default {\n  components: {\n    VehicleInformation,\n  },\n  data() {\n    return {\n      dialogFormVisible: false,\n      showLoading: false,\n      vehicleDetail: {\n        manufacturer: \"Audi\",\n        modelName: \"Audi 2020\",\n        modelYear: \"1998-09-09\",\n        licensePlateNumber: \"233423\",\n        vehicleColor: \"Red\",\n        numberOfSeats: \"6\",\n      },\n      formValues: {},\n      requiredRules: [(v) => !!v || \"This is required\"],\n      emailRules: [\n        (v) => !!v || \"E-mail is required\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail must be valid\",\n      ],\n    };\n  },\n  created() {\n    this.authUser = JSON.parse(localStorage.getItem(\"authUser\"));\n    this.formValues = { ...this.vehicleDetail };\n    this.getVechicleInfo();\n  },\n  methods: {\n    handleClose(done) {\n      this.$confirm(\"Are you sure to close this dialog?\")\n        .then((_) => {\n          done();\n        })\n        .catch((_) => {});\n    },\n    updateData() {\n      EventService.$emit(\"loading\", \"show\");\n      this.showLoading = true;\n      ref\n        .doc(this.authUser.driverId)\n        .update(this.formValues)\n        .then(() => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\"successMessage\", \"Updated Successful\");\n          this.dialogFormVisible = false;\n          this.showLoading = false;\n        })\n        .catch((error) => {\n          console.log(\n            \"ðŸš€ ~ file: Vehicle.vue ~ line 263 ~ updateData ~ error\",\n            error\n          );\n          this.showLoading = false;\n          EventService.$emit(\"loading\", \"hide\");\n        });\n    },\n    getVechicleInfo() {\n      this.showLoading = true;\n      firebase\n        .firestore()\n        .collection(\"vehicles\")\n        .doc(this.authUser.driverId)\n        .get()\n        .then((snapshot) => {\n          this.vehicleDetail = { ...snapshot.data() };\n          this.showLoading = false;\n        })\n        .catch((error) => ({\n          errorCode: error.code,\n          errorMessage: error.message,\n        }));\n    },\n  },\n};\n</script>\n<style scoped>\n.float-right {\n  float: right;\n}\n</style>\n"]}]}