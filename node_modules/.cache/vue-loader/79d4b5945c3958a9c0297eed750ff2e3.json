{"remainingRequest":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vue/mViteDashboard/src/components/DriverComponents/Documents.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/src/components/DriverComponents/Documents.vue","mtime":1614812729113},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/mViteDashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOwppbXBvcnQgImZpcmViYXNlL2ZpcmVzdG9yZSI7CmltcG9ydCAiZmlyZWJhc2Uvc3RvcmFnZSI7CmNvbnN0IGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CmNvbnN0IHJlZlZlaGljbGUgPSBkYi5jb2xsZWN0aW9uKCJ2ZWhpY2xlcyIpOwpjb25zdCByZWZEcml2ZXJzID0gZGIuY29sbGVjdGlvbigiZHJpdmVycyIpOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi8uLi9tYWluIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRG9jdW1lbnRzIiwKICBjb21wb25lbnRzOiB7CiAgICBJbWFnZVVwbG9hZDogKCkgPT4gaW1wb3J0KCIuL0ltYWdlVXBsb2FkIiksCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICIiLAogICAgICBvcGVuUHJvZmlsZUVkaXRGb3JtOiBmYWxzZSwKICAgICAgYXV0aFVzZXI6IHt9LAogICAgICB2ZWhpY2xlRGV0YWlsOiB7fSwKICAgICAgaW1hZ2VEaWFsb2c6IGZhbHNlLAogICAgICBpbWFnZVVybDogIiIsCiAgICAgIHNpbWlsYXJJbWFnZTogIiIsCiAgICAgIGltYWdlTmFtZTogIiIsCiAgICAgIHNob3dJbWFnZXM6IGZhbHNlLAogICAgICBjdXJyZW50RmlsZTogIiIsCiAgICAgIGN1cnJlbnRJbmRleDogMCwKICAgICAgZm9ybVZhbHVlczoge30sCiAgICAgIGRvY3VtZW50czogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAiRHJpdmVyIFBob3RvIiwKICAgICAgICAgIHZhbHVlOiAiZHJpdmVyQXZhdGFyVXJsIiwKICAgICAgICAgIG5hbWU6ICJwcm9maWxlUGhvdG8iLAogICAgICAgICAgc3JjOiAiaHR0cHM6Ly9jZG4udnVldGlmeWpzLmNvbS9pbWFnZXMvY2FyZHMvc3RvcmUuanBnIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAiRHJpdmVyIElkIiwKICAgICAgICAgIHZhbHVlOiAiZHJpdmVySURVcmwiLAogICAgICAgICAgbmFtZTogImRyaXZlcl9pZCIsCiAgICAgICAgICBzcmM6ICJodHRwczovL2Nkbi52dWV0aWZ5anMuY29tL2ltYWdlcy9jYXJkcy9zdG9yZS5qcGciLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICJEcml2ZXIgTGljZW5zZSIsCiAgICAgICAgICB2YWx1ZTogImRyaXZlckxpY2Vuc2VVcmwiLAogICAgICAgICAgbmFtZTogImRyaXZlcl9saWNlbnNlIiwKICAgICAgICAgIHNyYzogImh0dHBzOi8vY2RuLnZ1ZXRpZnlqcy5jb20vaW1hZ2VzL2NhcmRzL3N0b3JlLmpwZyIsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgY3VycmVudFZhbHVlOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHZlaGljbGVEb2NzOiBbCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICJWZWhpY2xlIFBob3RvIiwKICAgICAgICAgIHZhbHVlOiAidmVoaWNsZUF2YXRhclVybCIsCiAgICAgICAgICBwYXRoOiAidmVoaWNsZXMvIiwKICAgICAgICAgIHNyYzogImh0dHBzOi8vY2RuLnZ1ZXRpZnlqcy5jb20vaW1hZ2VzL2NhcmRzL3N0b3JlLmpwZyIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIlBTViBUYXhpIExpY2Vuc2UiLAogICAgICAgICAgdmFsdWU6ICJ2ZWhpY2xlTGljZW5zZVVybCIsCiAgICAgICAgICBuZXh0VmFsdWU6ICJ2ZWhpY2xlTGljZW5zZSIsCiAgICAgICAgICBwYXRoOiAidmVoaWNsZUxpY2Vuc2UvIiwKICAgICAgICAgIHNyYzogImh0dHBzOi8vY2RuLnZ1ZXRpZnlqcy5jb20vaW1hZ2VzL2NhcmRzL3N0b3JlLmpwZyIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIlByb29mIG9mIEluc3VyYW5jZSIsCiAgICAgICAgICB2YWx1ZTogInByb29mT2ZJbnN1cmFuY2VVcmwiLAogICAgICAgICAgcGF0aDogInZlaGljbGVzZG9jcy8iLAogICAgICAgICAgc3JjOiAiaHR0cHM6Ly9jZG4udnVldGlmeWpzLmNvbS9pbWFnZXMvY2FyZHMvc3RvcmUuanBnIiwKICAgICAgICB9LAogICAgICBdLAogICAgICBjdXJyZW50VHlwZTogIiIsCiAgICAgIGl0ZW1zOiBbCiAgICAgICAgewogICAgICAgICAgdGV4dDogIkRhc2hib2FyZCIsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICBocmVmOiAiL2Rhc2hib2FyZCIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiAiRG9jdW1lbnRzIiwKICAgICAgICAgIGRpc2FibGVkOiB0cnVlLAogICAgICAgICAgaHJlZjogImJyZWFkY3J1bWJzX2xpbmtfMSIsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgY3VycmVudE5hbWU6ICIiLAogICAgICBjdXJyZW50UGF0aDogIiIsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICB0aGlzLmdldFZlY2hpY2xlSW5mbygpOwogICAgdGhpcy5nZXREcml2ZXJJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDbG9zZShkb25lKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB0byBjbG9zZSB0aGlzIGRpYWxvZz8iKQogICAgICAgIC50aGVuKChfKSA9PiB7CiAgICAgICAgICBkb25lKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKF8pID0+IHt9KTsKICAgIH0sCiAgICBvcGVuSW1hZ2VEaWFsb2coZGV0YWlsLCB0eXBlKSB7CiAgICAgIHRoaXMudGl0bGUgPSBkZXRhaWwudGl0bGU7CiAgICAgIHRoaXMuaW1hZ2VEaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGRldGFpbC52YWx1ZTsKICAgICAgdGhpcy5jdXJyZW50VHlwZSA9IHR5cGU7CiAgICAgIHRoaXMuY3VycmVudE5hbWUgPSBkZXRhaWwubmFtZTsKICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IGRldGFpbC5wYXRoOwogICAgfSwKICAgIGdldERyaXZlckluZm8oKSB7CiAgICAgIHJlZkRyaXZlcnMKICAgICAgICAuZG9jKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAuZ2V0KCkKICAgICAgICAudGhlbigoc25hcHNob3QpID0+IHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgIAogICAgICAgICAgdGhpcy5hdXRoVXNlciA9IHsgLi4uc25hcHNob3QuZGF0YSgpIH07CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiAoewogICAgICAgICAgZXJyb3JDb2RlOiBlcnJvci5jb2RlLAogICAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgIH0pKTsKCiAgICAgIGNvbnNvbGUuZGlyKHRoaXMuYXV0aFVzZXIpOwogICAgfSwKICAgIG9wZW52aWV3RGlhbG9nKGRldGFpbCwgaW1hZ2UpIHsKICAgICAgdGhpcy5zaW1pbGFySW1hZ2UgPSBpbWFnZTsKICAgICAgLy8gY29uc29sZS5kaXIoaW1hZ2UpOwogICAgICB0aGlzLnNob3dJbWFnZXMgPSB0cnVlOwogICAgfSwKICAgIGdldFZlY2hpY2xlSW5mbygpIHsKICAgICAgcmVmVmVoaWNsZQogICAgICAgIC5kb2ModGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIC5nZXQoKQogICAgICAgIC50aGVuKChzbmFwc2hvdCkgPT4gewogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICAgICAgICAKICAgICAgICAgIHRoaXMudmVoaWNsZURldGFpbCA9IHsgLi4uc25hcHNob3QuZGF0YSgpIH07CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiAoewogICAgICAgICAgZXJyb3JDb2RlOiBlcnJvci5jb2RlLAogICAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgIH0pKTsKICAgIH0sCiAgICB1cGRhdGVQcm9maWxlSW1hZ2UoaW1hZ2UpIHsKICAgICAgdGhpcy5pbWFnZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoaW1hZ2UpOwogICAgICB0aGlzLmltYWdlRGlhbG9nID0gZmFsc2U7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRUeXBlID09PSAiaXNQcm9maWxlIikgewogICAgICAgIHRoaXMudXBkYXRlRHJpdmVyc0ltYWdlKGltYWdlLCB0aGlzLmN1cnJlbnRWYWx1ZSwgdGhpcy5jdXJyZW50TmFtZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGVWZWNoaWNsZURvY3MoaW1hZ2UsIHRoaXMuY3VycmVudFZhbHVlLCB0aGlzLmN1cnJlbnRQYXRoKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZURyaXZlcnNJbWFnZShpbWFnZSwgdmFsdWUsIG5hbWUpIHsKICAgICAgaWYgKHRoaXMubG9hZGluZykgcmV0dXJuOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBmaXJlYmFzZQogICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAucmVmKCIvZHJpdmVycy8iICsgdGhpcy4kcm91dGUucGFyYW1zLmlkICsgIi8iICsgbmFtZSkKICAgICAgICAucHV0KGltYWdlLCB7IGNvbnRlbnRUeXBlOiBgaW1hZ2UvanBnYCB9KQogICAgICAgIC50aGVuKChzbmFwc2hvdCkgPT4gewogICAgICAgICAgc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbigodXJsKSA9PiB7CiAgICAgICAgICAgIHJlZkRyaXZlcnMKICAgICAgICAgICAgICAuZG9jKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgICAgICAudXBkYXRlKHsgW3ZhbHVlXTogdXJsIH0pCiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zZXROb3RpZnlNZXNzYWdlKCJTdWNjZXNzZnVsbHkgVXBsb2FkIGRvY3MiKTsKICAgICAgICAgICAgICAgIHRoaXMuZHJpdmVyc0luZm8oKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkcml2ZXJzSW5mbygpIHsKICAgICAgcmVmRHJpdmVycwogICAgICAgIC5kb2ModGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIC5nZXQoKQogICAgICAgIC50aGVuKChzbmFwc2hvdCkgPT4gewogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICB0aGlzLmF1dGhVc2VyID0gc25hcHNob3QuZGF0YSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiAoewogICAgICAgICAgZXJyb3JDb2RlOiBlcnJvci5jb2RlLAogICAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgIH0pKTsKICAgIH0sCiAgICB1cGRhdGVWZWNoaWNsZURvY3MoaW1hZ2UsIHZhbHVlLCBwYXRoKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHJldHVybjsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgZmlyZWJhc2UKICAgICAgICAuc3RvcmFnZSgpCiAgICAgICAgLnJlZihwYXRoICsgdGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIC5wdXQoaW1hZ2UsIHsgY29udGVudFR5cGU6IGBpbWFnZS9qcGdgIH0pCiAgICAgICAgLnRoZW4oKHNuYXBzaG90KSA9PiB7CiAgICAgICAgICBzbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKCh1cmwpID0+IHsKICAgICAgICAgICAgcmVmVmVoaWNsZQogICAgICAgICAgICAgIC5kb2ModGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgICAgICAgIC51cGRhdGUoeyBbdmFsdWVdOiB1cmwgfSkKICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnNldE5vdGlmeU1lc3NhZ2UoIlN1Y2Nlc3NmdWxseSBVcGxvYWQgZG9jcyIpOwogICAgICAgICAgICAgICAgdGhpcy5nZXRWZWNoaWNsZUluZm8oKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Documents.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Documents.vue","sourceRoot":"src/components/DriverComponents","sourcesContent":["<template>\n  <div id=\"dashboard-container\">\n    <el-row :gutter=\"20\">\n      <el-col\n        v-for=\"(item, index) in documents\"\n        :key=\"index\"\n        :xs=\"24\"\n        :sm=\"24\"\n        :md=\"8\"\n      >\n        <el-card>\n          <div class=\"card-header\">\n            <div class=\"card-title\">\n              <h3>{{ item.title }}</h3>\n            </div>\n            <div class=\"card-actions\">\n              <el-button\n                icon=\"el-icon-edit\"\n                circle\n                @click=\"openImageDialog(item, 'isProfile')\"\n              ></el-button>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <el-image\n              style=\"width: 100%; height: 175px; cursor: pointer\"\n              @click=\"openviewDialog(item, authUser[item.value])\"\n              :src=\"authUser[item.value]\"\n              fit=\"contain\"\n            ></el-image>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <el-row :gutter=\"20\">\n      <el-col\n        v-for=\"(item, index) in vehicleDocs\"\n        :key=\"index + '0001'\"\n        :xs=\"24\"\n        :sm=\"24\"\n        :md=\"8\"\n      >\n        <el-card>\n          <div class=\"card-header\">\n            <div class=\"card-title\">\n              <h3>{{ item.title }}</h3>\n            </div>\n            <div class=\"card-actions\">\n              <el-button icon=\"el-icon-edit\" circle></el-button>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <el-image\n              style=\"width: 100%; height: 175px; cursor: pointer\"\n              @click=\"openviewDialog(item, vehicleDetail[item.value])\"\n              :src=\"\n                vehicleDetail[item.value]\n                  ? vehicleDetail[item.value]\n                  : vehicleDetail[item.nextValue]\n              \"\n              fit=\"contain\"\n            ></el-image>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <el-dialog :visible.sync=\"showImages\" width=\"30%\">\n      <el-image\n        style=\"width: 100%; height: 100%; cursor: pointer\"\n        :src=\"similarImage\"\n        fit=\"contain\"\n      ></el-image>\n    </el-dialog>\n    <ImageUpload\n      v-if=\"imageDialog\"\n      v-model=\"imageName\"\n      :resize=\"false\"\n      :title=\"title\"\n      @close=\"imageDialog = false\"\n      @imageName=\"imageName = $event\"\n      @input=\"updateProfileImage\"\n    />\n  </div>\n</template>\n<script>\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\nconst db = firebase.firestore();\nconst refVehicle = db.collection(\"vehicles\");\nconst refDrivers = db.collection(\"drivers\");\nimport { EventService } from \"../../main\";\n\nexport default {\n  name: \"Documents\",\n  components: {\n    ImageUpload: () => import(\"./ImageUpload\"),\n  },\n  data() {\n    return {\n      title: \"\",\n      openProfileEditForm: false,\n      authUser: {},\n      vehicleDetail: {},\n      imageDialog: false,\n      imageUrl: \"\",\n      similarImage: \"\",\n      imageName: \"\",\n      showImages: false,\n      currentFile: \"\",\n      currentIndex: 0,\n      formValues: {},\n      documents: [\n        {\n          title: \"Driver Photo\",\n          value: \"driverAvatarUrl\",\n          name: \"profilePhoto\",\n          src: \"https://cdn.vuetifyjs.com/images/cards/store.jpg\",\n        },\n        {\n          title: \"Driver Id\",\n          value: \"driverIDUrl\",\n          name: \"driver_id\",\n          src: \"https://cdn.vuetifyjs.com/images/cards/store.jpg\",\n        },\n        {\n          title: \"Driver License\",\n          value: \"driverLicenseUrl\",\n          name: \"driver_license\",\n          src: \"https://cdn.vuetifyjs.com/images/cards/store.jpg\",\n        },\n      ],\n      currentValue: [],\n      loading: false,\n      vehicleDocs: [\n        {\n          title: \"Vehicle Photo\",\n          value: \"vehicleAvatarUrl\",\n          path: \"vehicles/\",\n          src: \"https://cdn.vuetifyjs.com/images/cards/store.jpg\",\n        },\n        {\n          title: \"PSV Taxi License\",\n          value: \"vehicleLicenseUrl\",\n          nextValue: \"vehicleLicense\",\n          path: \"vehicleLicense/\",\n          src: \"https://cdn.vuetifyjs.com/images/cards/store.jpg\",\n        },\n        {\n          title: \"Proof of Insurance\",\n          value: \"proofOfInsuranceUrl\",\n          path: \"vehiclesdocs/\",\n          src: \"https://cdn.vuetifyjs.com/images/cards/store.jpg\",\n        },\n      ],\n      currentType: \"\",\n      items: [\n        {\n          text: \"Dashboard\",\n          disabled: false,\n          href: \"/dashboard\",\n        },\n        {\n          text: \"Documents\",\n          disabled: true,\n          href: \"breadcrumbs_link_1\",\n        },\n      ],\n      currentName: \"\",\n      currentPath: \"\",\n    };\n  },\n  created() {\n    EventService.$emit(\"loading\", \"show\");\n    this.getVechicleInfo();\n    this.getDriverInfo();\n  },\n  methods: {\n    handleClose(done) {\n      this.$confirm(\"Are you sure to close this dialog?\")\n        .then((_) => {\n          done();\n        })\n        .catch((_) => {});\n    },\n    openImageDialog(detail, type) {\n      this.title = detail.title;\n      this.imageDialog = true;\n      this.currentValue = detail.value;\n      this.currentType = type;\n      this.currentName = detail.name;\n      this.currentPath = detail.path;\n    },\n    getDriverInfo() {\n      refDrivers\n        .doc(this.$route.params.id)\n        .get()\n        .then((snapshot) => {\n          EventService.$emit(\"loading\", \"hide\");\n            \n          this.authUser = { ...snapshot.data() };\n        })\n        .catch((error) => ({\n          errorCode: error.code,\n          errorMessage: error.message,\n        }));\n\n      console.dir(this.authUser);\n    },\n    openviewDialog(detail, image) {\n      this.similarImage = image;\n      // console.dir(image);\n      this.showImages = true;\n    },\n    getVechicleInfo() {\n      refVehicle\n        .doc(this.$route.params.id)\n        .get()\n        .then((snapshot) => {\n          EventService.$emit(\"loading\", \"hide\");\n              \n          this.vehicleDetail = { ...snapshot.data() };\n        })\n        .catch((error) => ({\n          errorCode: error.code,\n          errorMessage: error.message,\n        }));\n    },\n    updateProfileImage(image) {\n      this.imageUrl = URL.createObjectURL(image);\n      this.imageDialog = false;\n      if (this.currentType === \"isProfile\") {\n        this.updateDriversImage(image, this.currentValue, this.currentName);\n      } else {\n        this.updateVechicleDocs(image, this.currentValue, this.currentPath);\n      }\n    },\n    updateDriversImage(image, value, name) {\n      if (this.loading) return;\n      this.loading = true;\n      firebase\n        .storage()\n        .ref(\"/drivers/\" + this.$route.params.id + \"/\" + name)\n        .put(image, { contentType: `image/jpg` })\n        .then((snapshot) => {\n          snapshot.ref.getDownloadURL().then((url) => {\n            refDrivers\n              .doc(this.$route.params.id)\n              .update({ [value]: url })\n              .then(() => {\n                this.setNotifyMessage(\"Successfully Upload docs\");\n                this.driversInfo();\n              });\n          });\n        })\n        .finally(() => {\n          \n          this.loading = false;\n        });\n    },\n    driversInfo() {\n      refDrivers\n        .doc(this.$route.params.id)\n        .get()\n        .then((snapshot) => {\n          this.$nextTick(() => {\n            this.authUser = snapshot.data();\n          });\n        })\n        .catch((error) => ({\n          errorCode: error.code,\n          errorMessage: error.message,\n        }));\n    },\n    updateVechicleDocs(image, value, path) {\n      if (this.loading) return;\n      this.loading = true;\n      firebase\n        .storage()\n        .ref(path + this.$route.params.id)\n        .put(image, { contentType: `image/jpg` })\n        .then((snapshot) => {\n          snapshot.ref.getDownloadURL().then((url) => {\n            refVehicle\n              .doc(this.$route.params.id)\n              .update({ [value]: url })\n              .then(() => {\n                this.setNotifyMessage(\"Successfully Upload docs\");\n                this.getVechicleInfo();\n              });\n          });\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n  },\n};\n</script>\n"]}]}