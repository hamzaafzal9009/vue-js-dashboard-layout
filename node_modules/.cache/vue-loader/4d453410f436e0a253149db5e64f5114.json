{"remainingRequest":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vue/Vite Dashboard/src/components/Riders.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/src/components/Riders.vue","mtime":1615413805294},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/Vite Dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOwpjb25zdCBkYiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpOwpjb25zdCByaWRlcnNSZWYgPSBkYi5jb2xsZWN0aW9uKCJyaWRlcnMiKTsKY29uc3QgcmVxdWVzdFJpZGVzID0gZGIuY29sbGVjdGlvbigicmVxdWVzdGVkUmlkZXMiKTsKY29uc3QgdmVoaWNsZXNSZWYgPSBkYi5jb2xsZWN0aW9uKCJ2ZWhpY2xlcyIpOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmlkZXJzIiwKICBkYXRhOiAoKSA9PiAoewogICAgdGFiczogWwogICAgICB7CiAgICAgICAgdGV4dDogIkFsbCIsCiAgICAgICAgbmFtZTogImZpcnN0IiwKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJBY3RpdmUiLAogICAgICAgIG5hbWU6ICJzZWNvbmQiLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIkJsb2NrZWQiLAogICAgICAgIG5hbWU6ICJ0aGlyZCIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiUmVxdWVzdGVkIFJpZGVzIiwKICAgICAgICBuYW1lOiAiZm9ydGgiLAogICAgICB9LAogICAgXSwKICAgIHNlYXJjaF9ieTogIiIsCiAgICBzdGF0dXM6ICJBbGwiLAogICAgc2VhcmNoOiAiIiwKICAgIHJpZGVyc0RhdGE6IFtdLAogICAgY29tZmlybWF0aW9uQm94OiBmYWxzZSwKICAgIG1lc3NhZ2U6ICIiLAogICAgc2hvd0ZpbHRlcnM6IGZhbHNlLAogICAgY3VycmVudEFjdGlvbjogIiIsCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIHRyaXBzRGV0YWlsOiB7fSwKICAgIHRyaXBzSW5mbzogW10sCiAgICBkYWlseUVhcm5pbmdEZXRhaWw6IHt9LAogICAgYXV0aFVzZXI6IHt9LAogICAgcmlkZXJzSGlzdG9yeTogW10sCiAgICBjdXJyZW50SWQ6ICIiLAogICAgZmlsdGVyczogewogICAgICBmdWxsX25hbWU6ICIiLAogICAgICBwaG9uZV9udW1iZXI6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICB9LAogICAgYWN0aXZlTmFtZTogImZpcnN0IiwKICAgIHBhZ2luYXRpb25EYXRhOiB7CiAgICAgIHBlclBhZ2U6IDEwLAogICAgICBjdXJyZW50UGFnZTogMCwKICAgICAgcGVyUGFnZU9wdGlvbnM6IFsxMCwgMjAsIDUwXSwKICAgICAgdG90YWw6IDAsCiAgICB9LAogIH0pLAogIGNvbXB1dGVkOiB7CiAgICByaWRlcnNEZXRhaWwoKSB7CiAgICAgIHJldHVybiB0aGlzLnJpZGVyc0RhdGEuZmlsdGVyKAogICAgICAgIChlbCkgPT4gdHlwZW9mIGVsLnVzZXJGdWxsTmFtZSAhPT0gInVuZGVmaW5lZCIKICAgICAgKTsKICAgIH0sCiAgICBzdGF0dXNGaWx0ZXJEYXRhKCkgewogICAgICBpZiAodGhpcy5zdGF0dXMgPT09ICJSZXF1ZXN0ZWQgUmlkZXMiKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnJpZGVyc0RldGFpbAogICAgICAgIC5zbGljZSgpCiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIudXBkYXRlZEF0IC0gYS51cGRhdGVkQXQpCiAgICAgICAgLmZpbHRlcigoZWxlKSA9PiB7CiAgICAgICAgICBpZiAoZWxlLnVzZXJGdWxsTmFtZSAmJiBlbGUudXNlclBob25lTnVtYmVyICYmIGVsZS51c2VyRW1haWwpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAiQWN0aXZlIikgewogICAgICAgICAgICAgIHJldHVybiBlbGUuaXNCbG9ja2VkID09PSAiZmFsc2UiIHx8IGVsZS5pc0Jsb2NrZWQgPT09IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSAiQmxvY2tlZCIpIHsKICAgICAgICAgICAgICByZXR1cm4gZWxlLmlzQmxvY2tlZCA9PT0gInRydWUiIHx8IGVsZS5pc0Jsb2NrZWQgPT09IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIHRyaXBGaWx0ZXJEYXRhKCkgewogICAgICBjb25zdCBzdGFydCA9CiAgICAgICAgICB0aGlzLnBhZ2luYXRpb25EYXRhLmN1cnJlbnRQYWdlICogdGhpcy5wYWdpbmF0aW9uRGF0YS5wZXJQYWdlLAogICAgICAgIGVuZCA9IHN0YXJ0ICsgdGhpcy5wYWdpbmF0aW9uRGF0YS5wZXJQYWdlOwogICAgICB0aGlzLnBhZ2luYXRpb25EYXRhLnRvdGFsID0gdGhpcy5zdGF0dXNGaWx0ZXJEYXRhLmxlbmd0aDsKICAgICAgLy8gcmV0dXJuIHRoaXMuc3RhdHVzRmlsdGVyRGF0YS5zbGljZShzdGFydCwgZW5kKTsKICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzRmlsdGVyRGF0YQogICAgICAgIC5maWx0ZXIoKGVsZSkgPT4gewogICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgZWxlLnVzZXJGdWxsTmFtZQogICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgICAgLmluY2x1ZGVzKHRoaXMuZmlsdGVycy5mdWxsX25hbWUudG9Mb3dlckNhc2UoKSB8fCAiIikgJiYKICAgICAgICAgICAgZWxlLnVzZXJQaG9uZU51bWJlcgogICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgICAgLmluY2x1ZGVzKHRoaXMuZmlsdGVycy5waG9uZV9udW1iZXIudG9Mb3dlckNhc2UoKSB8fCAiIikgJiYKICAgICAgICAgICAgZWxlLnVzZXJFbWFpbAogICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgICAgLmluY2x1ZGVzKHRoaXMuZmlsdGVycy5lbWFpbC50b0xvd2VyQ2FzZSgpIHx8ICIiKQogICAgICAgICAgKTsKICAgICAgICB9KQogICAgICAgIC5zbGljZShzdGFydCwgZW5kKTsKICAgIH0sCiAgICBwYWdpbmF0aW9uUGFnZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnaW5hdGlvbkRhdGEuY3VycmVudFBhZ2UgKyAxOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFJpZGVycygpOwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoQnkoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaF9ieSA9PT0gIkVtYWlsIikgewogICAgICAgIHRoaXMuZmlsdGVycy5lbWFpbCA9IHRoaXMuc2VhcmNoOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoX2J5ID09PSAiUGhvbmUgTnVtYmVyIikgewogICAgICAgIHRoaXMuZmlsdGVycy5waG9uZV9udW1iZXIgPSB0aGlzLnNlYXJjaDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpbHRlcnMuZnVsbF9uYW1lID0gdGhpcy5zZWFyY2g7CiAgICAgIH0KICAgIH0sCiAgICBhZGRQYWdlTnVtKHBhZ2UpIHsKICAgICAgdGhpcy5wYWdpbmF0aW9uRGF0YS5jdXJyZW50UGFnZSA9IHBhZ2UgLSAxOwogICAgfSwKICAgIGdldFJlcXVlc3RlZFJpZGVzKCkgewogICAgICB0aGlzLnJlcXVlc3RlZFJpZGVzID0gW107CiAgICAgIHJlcXVlc3RSaWRlcy5nZXQoKS50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkYXRhLmRvY3MubWFwKCh2YWx1ZSkgPT4gdmFsdWUuZGF0YSgpKTsKICAgICAgICBjb25zdCByaWRlcyA9IE9iamVjdC5rZXlzKHJlc3BvbnNlKTsKICAgICAgICBpZiAocmlkZXMubGVuZ3RoKSB7CiAgICAgICAgICByaWRlcy5mb3JFYWNoKCh4KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5kcml2ZXJEYXRhLmZpbmQoKHkpID0+IHkudXNlcklkID09PSB4KTsKICAgICAgICAgICAgaWYgKGl0ZW1zKSB7CiAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWRSaWRlcy5wdXNoKHsKICAgICAgICAgICAgICAgIC4uLml0ZW1zLAogICAgICAgICAgICAgICAgY3JlYXRlZEF0OiByZXNwb25zZVt4XSwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFJpZGVycygpIHsKICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgcmlkZXJzUmVmLmdldCgpLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICB0aGlzLnJpZGVyc0RhdGEgPSBkYXRhLmRvY3MubWFwKCh2YWx1ZSkgPT4gdmFsdWUuZGF0YSgpKTsKICAgICAgICBjb25zb2xlLmRpcih0aGlzLnJpZGVyc0RhdGEpOwogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgIH0pOwogICAgfSwKICAgIHNldFN0YXR1c0ZpbHRlcih0YWIsIGV2ZW50KSB7CiAgICAgIHRoaXMuc3RhdHVzID0gdGFiLmxhYmVsOwogICAgICB0aGlzLmFjdGl2ZU5hbWUgPSB0YWIubmFtZTsKICAgIH0sCiAgICByZXR1cm5EYXRlKGRhdGUpIHsKICAgICAgY29uc3QgaHVtYW5EYXRlID0gbmV3IERhdGUocGFyc2VJbnQoZGF0ZSkpOwogICAgICByZXR1cm4gaHVtYW5EYXRlLnRvRGF0ZVN0cmluZygpLnN1YnN0cmluZyg0LCAxNik7CiAgICB9LAogICAgcmV0dXJuVGltZShkYXRlKSB7CiAgICAgIGNvbnN0IGh1bWFuRGF0ZSA9IG5ldyBEYXRlKHBhcnNlSW50KGRhdGUpKTsKICAgICAgcmV0dXJuIGh1bWFuRGF0ZS50b1N0cmluZygpLnN1YnN0cmluZygxNiwgMjQpOwogICAgfSwKICAgIGRvSXQoZGV0YWlscywgYWN0aW9uKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byAke2FjdGlvbn0gdGhpcyByaWRlcj9gKQogICAgICAgIC50aGVuKChfKSA9PiB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRJZCA9IGRldGFpbHMudXNlcklkOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgICAgIGlmIChhY3Rpb24gPT09ICJibG9jayIpIHsKICAgICAgICAgICAgdGhpcy5ibG9ja1VzZXIoKTsKICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAidW5ibG9jayIpIHsKICAgICAgICAgICAgdGhpcy51bkJsb2NrVXNlcigpOwogICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICJkZWxldGUiKSB7CiAgICAgICAgICAgIHRoaXMuZGVsZXRlUmlkZXIoKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoXykgPT4ge30pOwogICAgfSwKICAgIGRlbGV0ZVJpZGVyKCkgewogICAgICByaWRlcnNSZWYKICAgICAgICAuZG9jKHRoaXMuY3VycmVudElkKQogICAgICAgIC5kZWxldGUoKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoInN1Y2Nlc3NNZXNzYWdlIiwgIlJpZGVyIERlbGV0ZWQgU3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICB0aGlzLmdldFJpZGVycygpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImVycm9yTWVzc2FnZSIsICJTb21ldGhpbmcgV2VudCBXcm9uZyEiKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBibG9ja1VzZXIoKSB7CiAgICAgIHJpZGVyc1JlZgogICAgICAgIC5kb2ModGhpcy5jdXJyZW50SWQpCiAgICAgICAgLnVwZGF0ZSh7IGlzQmxvY2tlZDogdHJ1ZSB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoInN1Y2Nlc3NNZXNzYWdlIiwgIlJpZGVyIEJsb2NrZWQgU3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICB0aGlzLmdldFJpZGVycygpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImVycm9yTWVzc2FnZSIsICJTb21ldGhpbmcgV2VudCBXcm9uZyEiKTsKICAgICAgICB9KTsKICAgIH0sCiAgICB1bkJsb2NrVXNlcigpIHsKICAgICAgcmlkZXJzUmVmCiAgICAgICAgLmRvYyh0aGlzLmN1cnJlbnRJZCkKICAgICAgICAudXBkYXRlKHsgaXNCbG9ja2VkOiBmYWxzZSB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoInN1Y2Nlc3NNZXNzYWdlIiwgIlJpZGVyIFVuYmxvY2tlZCBTdWNjZXNzZnVsbHkiKTsKICAgICAgICAgIHRoaXMuZ2V0UmlkZXJzKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgiZXJyb3JNZXNzYWdlIiwgIlNvbWV0aGluZyBXZW50IFdyb25nISIpOwogICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Riders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgQA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Riders.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"dashboard-container\">\n    <el-card class=\"card-min-height\">\n      <div class=\"card-header\">\n        <div class=\"card-title\">\n          <h3>Riders</h3>\n        </div>\n        <!-- <div class=\"card-actions\">\n          <div class=\"input-group\">\n            <el-popover\n              trigger=\"click\"\n              class=\"filter clickable\"\n              v-model=\"showFilters\"\n            >\n              <div class=\"filter-button\" slot=\"reference\">\n                <i class=\"fas fa-filter\"></i>\n              </div>\n              <div class=\"dropdown-filter-menu\">\n                <div class=\"dropdown-filter-option\">\n                  <label>Search By</label>\n                  <el-select v-model=\"search_by\" :collapse-tags=\"true\">\n                    <el-option class=\"capitalize\" value=\"Full Name\"\n                      >Full Name\n                    </el-option>\n                    <el-option class=\"capitalize\" value=\"Email\"\n                      >Email\n                    </el-option>\n                    <el-option class=\"capitalize\" value=\"Phone Number\"\n                      >Phone Number\n                    </el-option>\n                  </el-select>\n                </div>\n              </div>\n            </el-popover>\n            <el-input\n              placeholder=\"Search Driver\"\n              @input=\"searchBy\"\n              v-model=\"search\"\n              ><i slot=\"suffix\" class=\"far fa-search\"></i\n            ></el-input>\n          </div>\n        </div> -->\n      </div>\n\n      <div class=\"card-body\">\n        <el-tabs\n          v-model=\"activeName\"\n          @tab-click=\"setStatusFilter\"\n          type=\"border-card\"\n        >\n          <el-tab-pane\n            :label=\"tab.text\"\n            :name=\"tab.name\"\n            v-for=\"(tab, index) in tabs\"\n            :key=\"index\"\n          >\n            <el-table\n              :data=\"tripFilterData\"\n              style=\"width: 100%\"\n              size=\"small\"\n              empty-text=\"No results found.\"\n            >\n              <el-table-column label=\"Date\">\n                <template slot-scope=\"props\">\n                  <div v-if=\"status === 'Requested Rides'\">\n                    <div>\n                      {{ returnDate(props.row.createdAt) }}\n                    </div>\n                    <div class=\"caption\">\n                      {{ returnTime(props.row.createdAt) }}\n                    </div>\n                  </div>\n                  <div v-else>\n                    {{ props.row.parentDate || \"No Date Available\" }}\n                  </div>\n                </template>\n              </el-table-column>\n\n              <el-table-column\n                prop=\"driverFirstName\"\n                label=\"Full Name\"\n                width=\"200\"\n              >\n                <template slot-scope=\"props\">\n                  <span>\n                    <img\n                      :src=\"\n                        !props.row.userAvatarUrl ||\n                        props.row.userAvatarUrl === 'N/A'\n                          ? require(`@/assets/img/default-user.jpg`)\n                          : props.row.userAvatarUrl\n                      \"\n                      class=\"img-user\"\n                      alt=\"...\"\n                    />\n                  </span>\n                  <span v-if=\"typeof props === 'object'\" class=\"driver-name\">\n                    {{ props.row.userFullName }}\n                  </span>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"userEmail\" label=\"Email\">\n              </el-table-column>\n              <el-table-column prop=\"userTotalRating\" label=\"Total Rating\">\n                <template slot-scope=\"props\">\n                  <span\n                    v-if=\"\n                      props.row.userTotalRating &&\n                        props.row.userTotalRating !== ''\n                    \"\n                  >\n                    <el-tooltip\n                      class=\"item\"\n                      effect=\"dark\"\n                      :content=\"props.row.userTotalRating\"\n                      placement=\"left\"\n                    >\n                      <el-rate\n                        :value=\"parseInt(props.row.userTotalRating)\"\n                        disabled\n                      >\n                      </el-rate>\n                    </el-tooltip>\n                  </span>\n                  <span v-else>\n                    No Data Available\n                  </span>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"totalTrips\" label=\"Total Trips\">\n                <template slot-scope=\"props\">\n                  <span v-if=\"props.row.totalTrips\">\n                    {{ props.row.totalTrips }} Trip(s)\n                  </span>\n                  <span v-else>\n                    No Data Available\n                  </span>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"regDate\" label=\"Reg Date\">\n                <template slot-scope=\"props\">\n                  {{ props.row.regDate || \"No Data Available\" }}\n                </template>\n              </el-table-column>\n              <el-table-column fixed=\"right\" label=\"Actions\" width=\"140\">\n                <template slot-scope=\"props\">\n                  <el-tooltip\n                    v-if=\"\n                      props.row.isBlocked === 'false' ||\n                        props.row.isBlocked === false\n                    \"\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Block Rider\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"default\"\n                      icon=\"el-icon-close\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"doIt(props.row, 'block')\"\n                    ></el-button>\n                  </el-tooltip>\n                  <el-tooltip\n                    v-if=\"\n                      props.row.isBlocked === 'true' ||\n                        props.row.isBlocked === true\n                    \"\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Unblock Rider\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"default\"\n                      icon=\"el-icon-check\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"doIt(props.row, 'unblock')\"\n                    ></el-button>\n                  </el-tooltip>\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Edit Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"primary\"\n                      icon=\"el-icon-edit\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"\n                        $router.push(\n                          `/riders/edit/${props.row.userPhoneNumber}`\n                        )\n                      \"\n                    ></el-button>\n                  </el-tooltip>\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Delete Driver\"\n                    placement=\"top\"\n                  >\n                    <el-button\n                      type=\"danger\"\n                      icon=\"el-icon-delete\"\n                      circle\n                      plain\n                      size=\"mini\"\n                      @click=\"doIt(props.row, 'delete')\"\n                    ></el-button>\n                  </el-tooltip>\n                </template>\n              </el-table-column>\n            </el-table>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n      <div class=\"pagination block\">\n        <span\n          >Showing {{ paginationData.perPage }} of\n          {{ paginationData.total }} Total Results</span\n        >\n        <el-pagination\n          background\n          layout=\"prev, pager, next\"\n          :current-page=\"paginationPage\"\n          :page-size=\"paginationData.perPage\"\n          :total=\"paginationData.total\"\n          small\n          @current-change=\"addPageNum\"\n        ></el-pagination>\n        <el-select\n          class=\"per-page-select\"\n          size=\"mini\"\n          v-model=\"paginationData.perPage\"\n        >\n          <el-option\n            v-for=\"option in paginationData.perPageOptions\"\n            :value=\"option\"\n            :key=\"option\"\n            >{{ option }}\n          </el-option>\n        </el-select>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport firebase from \"firebase/app\";\nconst db = firebase.firestore();\nconst ridersRef = db.collection(\"riders\");\nconst requestRides = db.collection(\"requestedRides\");\nconst vehiclesRef = db.collection(\"vehicles\");\nimport { EventService } from \"../main\";\n\nexport default {\n  name: \"Riders\",\n  data: () => ({\n    tabs: [\n      {\n        text: \"All\",\n        name: \"first\",\n      },\n      {\n        text: \"Active\",\n        name: \"second\",\n      },\n      {\n        text: \"Blocked\",\n        name: \"third\",\n      },\n      {\n        text: \"Requested Rides\",\n        name: \"forth\",\n      },\n    ],\n    search_by: \"\",\n    status: \"All\",\n    search: \"\",\n    ridersData: [],\n    comfirmationBox: false,\n    message: \"\",\n    showFilters: false,\n    currentAction: \"\",\n    loading: false,\n    tripsDetail: {},\n    tripsInfo: [],\n    dailyEarningDetail: {},\n    authUser: {},\n    ridersHistory: [],\n    currentId: \"\",\n    filters: {\n      full_name: \"\",\n      phone_number: \"\",\n      email: \"\",\n    },\n    activeName: \"first\",\n    paginationData: {\n      perPage: 10,\n      currentPage: 0,\n      perPageOptions: [10, 20, 50],\n      total: 0,\n    },\n  }),\n  computed: {\n    ridersDetail() {\n      return this.ridersData.filter(\n        (el) => typeof el.userFullName !== \"undefined\"\n      );\n    },\n    statusFilterData() {\n      if (this.status === \"Requested Rides\") {\n        return [];\n      }\n      return this.ridersDetail\n        .slice()\n        .sort((a, b) => b.updatedAt - a.updatedAt)\n        .filter((ele) => {\n          if (ele.userFullName && ele.userPhoneNumber && ele.userEmail) {\n            if (this.status === \"Active\") {\n              return ele.isBlocked === \"false\" || ele.isBlocked === false;\n            } else if (this.status === \"Blocked\") {\n              return ele.isBlocked === \"true\" || ele.isBlocked === true;\n            } else {\n              return ele;\n            }\n          }\n        });\n    },\n    tripFilterData() {\n      const start =\n          this.paginationData.currentPage * this.paginationData.perPage,\n        end = start + this.paginationData.perPage;\n      this.paginationData.total = this.statusFilterData.length;\n      // return this.statusFilterData.slice(start, end);\n      return this.statusFilterData\n        .filter((ele) => {\n          return (\n            ele.userFullName\n              .toLowerCase()\n              .includes(this.filters.full_name.toLowerCase() || \"\") &&\n            ele.userPhoneNumber\n              .toLowerCase()\n              .includes(this.filters.phone_number.toLowerCase() || \"\") &&\n            ele.userEmail\n              .toLowerCase()\n              .includes(this.filters.email.toLowerCase() || \"\")\n          );\n        })\n        .slice(start, end);\n    },\n    paginationPage() {\n      return this.paginationData.currentPage + 1;\n    },\n  },\n  created() {\n    this.getRiders();\n  },\n  methods: {\n    searchBy() {\n      if (this.search_by === \"Email\") {\n        this.filters.email = this.search;\n      } else if (this.search_by === \"Phone Number\") {\n        this.filters.phone_number = this.search;\n      } else {\n        this.filters.full_name = this.search;\n      }\n    },\n    addPageNum(page) {\n      this.paginationData.currentPage = page - 1;\n    },\n    getRequestedRides() {\n      this.requestedRides = [];\n      requestRides.get().then((data) => {\n        const response = data.docs.map((value) => value.data());\n        const rides = Object.keys(response);\n        if (rides.length) {\n          rides.forEach((x) => {\n            const items = this.driverData.find((y) => y.userId === x);\n            if (items) {\n              this.requestedRides.push({\n                ...items,\n                createdAt: response[x],\n              });\n            }\n          });\n          this.loading = false;\n        }\n      });\n    },\n    getRiders() {\n      EventService.$emit(\"loading\", \"show\");\n      ridersRef.get().then((data) => {\n        this.ridersData = data.docs.map((value) => value.data());\n        console.dir(this.ridersData);\n        EventService.$emit(\"loading\", \"hide\");\n      });\n    },\n    setStatusFilter(tab, event) {\n      this.status = tab.label;\n      this.activeName = tab.name;\n    },\n    returnDate(date) {\n      const humanDate = new Date(parseInt(date));\n      return humanDate.toDateString().substring(4, 16);\n    },\n    returnTime(date) {\n      const humanDate = new Date(parseInt(date));\n      return humanDate.toString().substring(16, 24);\n    },\n    doIt(details, action) {\n      this.$confirm(`Are you sure you want to ${action} this rider?`)\n        .then((_) => {\n          this.currentId = details.userId;\n          EventService.$emit(\"loading\", \"show\");\n          if (action === \"block\") {\n            this.blockUser();\n          } else if (action === \"unblock\") {\n            this.unBlockUser();\n          } else if (action === \"delete\") {\n            this.deleteRider();\n          }\n        })\n        .catch((_) => {});\n    },\n    deleteRider() {\n      ridersRef\n        .doc(this.currentId)\n        .delete()\n        .then(() => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\"successMessage\", \"Rider Deleted Successfully\");\n          this.getRiders();\n        })\n        .catch((err) => {\n          EventService.$emit(\"loading\", \"hide\");\n          console.error(err);\n          EventService.$emit(\"errorMessage\", \"Something Went Wrong!\");\n        });\n    },\n    blockUser() {\n      ridersRef\n        .doc(this.currentId)\n        .update({ isBlocked: true })\n        .then(() => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\"successMessage\", \"Rider Blocked Successfully\");\n          this.getRiders();\n        })\n        .catch((err) => {\n          EventService.$emit(\"loading\", \"hide\");\n          console.error(err);\n          EventService.$emit(\"errorMessage\", \"Something Went Wrong!\");\n        });\n    },\n    unBlockUser() {\n      ridersRef\n        .doc(this.currentId)\n        .update({ isBlocked: false })\n        .then(() => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\"successMessage\", \"Rider Unblocked Successfully\");\n          this.getRiders();\n        })\n        .catch((err) => {\n          EventService.$emit(\"loading\", \"hide\");\n          console.error(err);\n          EventService.$emit(\"errorMessage\", \"Something Went Wrong!\");\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.grey-text {\n  color: #cecece;\n}\n.green-text {\n  color: darkgreen;\n}\n\n.img-user {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n}\n\n.driver-name {\n  position: absolute;\n  top: 26px;\n  left: 80px;\n}\n.text-center {\n  text-align: center;\n}\n</style>\n"]}]}