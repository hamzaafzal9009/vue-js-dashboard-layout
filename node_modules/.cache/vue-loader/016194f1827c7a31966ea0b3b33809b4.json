{"remainingRequest":"/Library/WebServer/Documents/Projects/vue/m-driver-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/vue/m-driver-dashboard/src/components/RidersComponents/RiderInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/vue/m-driver-dashboard/src/components/RidersComponents/RiderInfo.vue","mtime":1615415589036},{"path":"/Library/WebServer/Documents/Projects/vue/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/m-driver-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Library/WebServer/Documents/Projects/vue/m-driver-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/vue/m-driver-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOwppbXBvcnQgImZpcmViYXNlL2ZpcmVzdG9yZSI7CmNvbnN0IGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CmNvbnN0IHJlZiA9IGRiLmNvbGxlY3Rpb24oInJpZGVycyIpOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi8uLi9tYWluIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybVZhbHVlczogewogICAgICAgIGdlbmRlcjogIk1hbGUiLAogICAgICB9LAogICAgICByZXF1aXJlZFJ1bGVzOiBbKHYpID0+ICEhdiB8fCAiVGhpcyBpcyByZXF1aXJlZCJdLAogICAgICBlbWFpbFJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAiRS1tYWlsIGlzIHJlcXVpcmVkIiwKICAgICAgICAodikgPT4gLy4rQC4rXC4uKy8udGVzdCh2KSB8fCAiRS1tYWlsIG11c3QgYmUgdmFsaWQiLAogICAgICBdLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERyaXZlckluZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZURhdGEoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB1cGRhdGU/YCkKICAgICAgICAudGhlbigoXykgPT4gewogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICByZWYKICAgICAgICAgICAgICAuZG9jKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgICAgICAudXBkYXRlKHRoaXMuZm9ybVZhbHVlcykKICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJzdWNjZXNzTWVzc2FnZSIsICJVcGRhdGVkIFN1Y2Nlc3NmdWxseSEiKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJlcnJvck1lc3NhZ2UiLCAiU29tZXRoaW5nIFdlbnQgV3JvbmchIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImVycm9yTWVzc2FnZSIsICJSZWNoZWNrIHlvdXIgZGF0YSEiKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoXykgPT4ge30pOwogICAgfSwKICAgIGdldERyaXZlckluZm8oKSB7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIGZpcmViYXNlCiAgICAgICAgLmZpcmVzdG9yZSgpCiAgICAgICAgLmNvbGxlY3Rpb24oInJpZGVycyIpCiAgICAgICAgLmRvYyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgICAgLmdldCgpCiAgICAgICAgLnRoZW4oKHNuYXBzaG90KSA9PiB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgdGhpcy5mb3JtVmFsdWVzID0geyAuLi5zbmFwc2hvdC5kYXRhKCkgfTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+ICh7CiAgICAgICAgICBlcnJvckNvZGU6IGVycm9yLmNvZGUsCiAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgICAgfSkpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["RiderInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RiderInfo.vue","sourceRoot":"src/components/RidersComponents","sourcesContent":["<template>\n  <el-form ref=\"form\" label-width=\"50px\">\n    <el-form-item required>\n      <el-col :span=\"11\">\n        <strong>Full Name: </strong>\n        <el-input\n          type=\"text\"\n          placeholder=\"Full Name\"\n          v-model=\"formValues.userFullName\"\n          :rules=\"requiredRules\"\n          style=\"width: 100%;\"\n        ></el-input>\n      </el-col>\n\n      <el-col :span=\"12\" :offset=\"1\">\n        <strong>Email: </strong>\n        <el-input\n          type=\"email\"\n          placeholder=\"Email Address\"\n          v-model=\"formValues.userEmail\"\n          style=\"width: 100%;\"\n          :rules=\"emailRules\"\n        ></el-input>\n      </el-col>\n    </el-form-item>\n    <el-form-item required>\n      <el-col :span=\"11\">\n        <strong>Phone Number: </strong>\n        <el-input\n          type=\"text\"\n          placeholder=\"Phone Number\"\n          v-model=\"formValues.userPhoneNumber\"\n          :rules=\"requiredRules\"\n          style=\"width: 100%;\"\n        ></el-input>\n      </el-col>\n\n      <el-col :span=\"12\" :offset=\"1\">\n        <strong>City: </strong>\n        <el-input\n          type=\"text\"\n          placeholder=\"City\"\n          v-model=\"formValues.userCity\"\n          style=\"width: 100%;\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n    </el-form-item>\n\n    <el-form-item required>\n      <el-col :span=\"11\">\n        <strong>Area: </strong>\n        <el-input\n          type=\"text\"\n          placeholder=\"Area\"\n          v-model=\"formValues.userArea\"\n          :rules=\"requiredRules\"\n          style=\"width: 100%;\"\n        ></el-input>\n      </el-col>\n\n      <el-col :span=\"12\" :offset=\"1\">\n        <strong>Postal Code: </strong>\n        <el-input\n          type=\"text\"\n          placeholder=\"Postal Code\"\n          v-model=\"formValues.userPostalCode\"\n          style=\"width: 100%;\"\n          :rules=\"requiredRules\"\n        ></el-input>\n      </el-col>\n    </el-form-item>\n    <el-form-item required>\n      <el-col :span=\"24\">\n        <strong>Address: </strong>\n        <el-input\n          type=\"textarea\"\n          placeholder=\"Address\"\n          v-model=\"formValues.userAddress\"\n          :rules=\"requiredRules\"\n          style=\"width: 100%;\"\n        ></el-input>\n      </el-col>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"updateData\" round>Save</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nconst db = firebase.firestore();\nconst ref = db.collection(\"riders\");\nimport { EventService } from \"../../main\";\n\nexport default {\n  data() {\n    return {\n      formValues: {\n        gender: \"Male\",\n      },\n      requiredRules: [(v) => !!v || \"This is required\"],\n      emailRules: [\n        (v) => !!v || \"E-mail is required\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail must be valid\",\n      ],\n    };\n  },\n  created() {\n    this.getDriverInfo();\n  },\n  methods: {\n    updateData() {\n      this.$confirm(`Are you sure you want update?`)\n        .then((_) => {\n          EventService.$emit(\"loading\", \"show\");\n          if (this.$refs.form.validate()) {\n            ref\n              .doc(this.$route.params.id)\n              .update(this.formValues)\n              .then(() => {\n                EventService.$emit(\"loading\", \"hide\");\n                EventService.$emit(\"successMessage\", \"Updated Successfully!\");\n              })\n              .catch((err) => {\n                EventService.$emit(\"loading\", \"hide\");\n                EventService.$emit(\"errorMessage\", \"Something Went Wrong!\");\n                console.error(err);\n              });\n          } else {\n            EventService.$emit(\"loading\", \"hide\");\n            EventService.$emit(\"errorMessage\", \"Recheck your data!\");\n          }\n        })\n        .catch((_) => {});\n    },\n    getDriverInfo() {\n      EventService.$emit(\"loading\", \"show\");\n      firebase\n        .firestore()\n        .collection(\"riders\")\n        .doc(this.$route.params.id)\n        .get()\n        .then((snapshot) => {\n          EventService.$emit(\"loading\", \"hide\");\n          this.formValues = { ...snapshot.data() };\n        })\n        .catch((error) => ({\n          errorCode: error.code,\n          errorMessage: error.message,\n        }));\n    },\n  },\n};\n</script>\n"]}]}