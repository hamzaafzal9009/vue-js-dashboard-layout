(function(e){function t(t){for(var s,o,n=t[0],l=t[1],c=t[2],u=0,h=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},i={app:0},r=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0021":function(e,t,a){e.exports=a.p+"img/logo-transparent.ab11c38e.png"},"0f87":function(e,t,a){},"0fc8":function(e,t,a){"use strict";a("92d1")},"126e":function(e,t,a){},"1b7b":function(e,t,a){"use strict";a("c854")},"20ad":function(e,t,a){},"28a5e":function(e,t,a){"use strict";a("972e")},"2f02":function(e,t,a){},3892:function(e,t,a){},"45bb":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id="4678"},"4ffd":function(e,t,a){e.exports=a.p+"img/logo.44b4a4f9.png"},"512b":function(e,t,a){"use strict";a("45bb")},"56d7":function(e,t,a){"use strict";a.r(t),a.d(t,"EventService",(function(){return Mt}));a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"abso",staticStyle:{position:"absolute",top:"0"}},[e.successMessage?a("div",{staticClass:"success-message"},[a("i",{class:e.successImage}),a("div",{staticClass:"message-container"},[a("span",{staticClass:"detail-title"},[e._v(e._s(e.successTitle))]),a("span",{staticClass:"detail-message"},[e._v(e._s(e.successMessage))])])]):e._e(),e.warningMessage?a("div",{staticClass:"success-message warning"},[a("i",{class:e.warningImage}),a("div",{staticClass:"message-container"},[a("span",{staticClass:"detail-title"},[e._v(e._s(e.warningTitle))]),a("span",{staticClass:"detail-message"},[e._v(e._s(e.warningMessage))])])]):e._e(),e.errorMessage?a("div",{staticClass:"success-message error"},[a("i",{class:e.errorImage}),a("div",{staticClass:"message-container"},[a("span",{staticClass:"detail-title"},[e._v(e._s(e.errorTitle))]),a("span",{staticClass:"detail-message"},[e._v(e._s(e.errorMessage))])])]):e._e(),e.infoMessage?a("div",{staticClass:"success-message info"},[a("i",{class:e.infoImage}),a("div",{staticClass:"message-container"},[a("span",{staticClass:"detail-title"},[e._v(e._s(e.infoTitle))]),a("span",{staticClass:"detail-message"},[e._v(e._s(e.infoMessage))])])]):e._e()]),e.loading>0?a("div",{staticClass:"loading"},[a("svg",{staticClass:"loader",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200"}},[a("circle",{attrs:{cx:"100",cy:"100",r:"80",stroke:"#1976d2"}}),a("circle",{attrs:{cx:"100",cy:"100",r:"68",stroke:"lightgrey"}}),a("circle",{attrs:{cx:"100",cy:"100",r:"55",stroke:"#1976d2"}}),a("circle",{attrs:{cx:"100",cy:"100",r:"43",stroke:"darkgray"}})])]):e._e(),e.displaySidebar?a("sidebar",{staticClass:"side-nav",class:{"side-bar-open":e.sidebarMinimized},attrs:{"selected-link":e.currentPageTitle}}):e._e(),a("div",{class:{"main-content":e.displaySidebar,"main-content-login":!e.displaySidebar}},[e.displayNavbar?a("navbar",{staticClass:"navbar",attrs:{"page-title":e.currentPageTitle}}):e._e(),a("router-view",{staticClass:"main-content-view"})],1),a("el-dialog",{attrs:{title:"Additional Details",visible:e.dialogVisible,width:"70%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("AdditionDetails")],1)],1)},r=[],o=a("bd86"),n=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar"},[a("div",{staticClass:"navbar-right"},[a("div",{staticClass:"navbar-profile"},[a("el-popover",{staticClass:"profile-popover",attrs:{width:"200",placement:"bottom",trigger:"click"}},[a("div",{staticClass:"navbar-profile-wrapper",attrs:{slot:"reference"},slot:"reference"},[e.loggedInUser.driverAvatarUrl||null!=e.loggedInUser.driverAvatarUrl||"N/A"!=e.loggedInUser.driverAvatarUrl?a("img",{staticClass:"profile-image",attrs:{src:e.loggedInUser.driverAvatarUrl}}):a("div",{staticClass:"profile-image",style:{background:e.generateColor()}},[a("span",{staticClass:"initials"},[e._v("A")])]),a("span",{staticClass:"profile-caret"},[a("i",{staticClass:"profile-caret fas fa-caret-down"})])]),a("div",{staticClass:"profile-popover-content"},[a("div",{staticClass:"profile-popover-item",on:{click:function(t){return e.$router.push("/profile")}}},[a("i",{staticClass:"item-icon fas fa-file-user"}),e._v("Profile ")]),a("div",{staticClass:"profile-popover-item",on:{click:e.logoutUser}},[a("i",{staticClass:"item-icon fas fa-sign-out-alt"}),e._v("Logout ")])])])],1)])])}),l=[],c=a("59ca"),d=a.n(c),u=(a("e71f"),a("ea7b"),{apiKey:"AIzaSyBPs5Eyo9b6Gz-v0Xu2ivojwtQY6Xqx8iY",authDomain:"vite-application.firebaseapp.com",databaseURL:"https://vite-application.firebaseio.com",projectId:"vite-application",storageBucket:"gs://vite-application.appspot.com",messagingSenderId:"713446169049",appId:"1:713446169049:web:fa719d28aaf766568821c8",measurementId:"G-3F0DMYJ1D7"});d.a.apps.length||d.a.initializeApp(u);var h=d.a,f=d.a.firestore,p=(f.Timestamp,f.GeoPoint,{name:"navbar",props:["pageTitle"],components:{},data:function(){return{showMenu:!1,currentUser:{userImage:""},loggedInUser:{},setAuthUser:{},isDisplayed:!1}},computed:{},created:function(){this.loggedInUser=JSON.parse(localStorage.getItem("authUser"))},beforeCreate:function(){var e=localStorage.getItem("authUser")?JSON.parse(localStorage.getItem("authUser")):null;e?e.driverStatus:this.$router.push("/login")},methods:{toggleMenu:function(){this.isDisplayed=!1,this.showMenu=!this.showMenu},hideMenu:function(){this.isDisplayed=!1,this.showMenu=!1},handleMenuClicks:function(e){if("/userList"==e){var t=e+"/"+this.currentUser.userId;"/userList"!=this.$router.currentRoute.path.substr(0,9)?this.$router.push(t):Mt.$emit("selectUser",this.currentUser)}else"logout"==e&&this.logout()},logoutUser:function(){var e=this;Mt.$emit("loading","show"),h.auth().signOut().then((function(){localStorage.setItem("authUser",""),e.$router.push("/login"),Mt.$emit("successMessage","Logged Out"),Mt.$emit("loading","hide")})).catch((function(e){return Mt.$emit("loading","hide")}))},generateColor:function(){return"#65615B"}}}),m=p,g=(a("686d"),a("2877")),v=Object(g["a"])(m,n,l,!1,null,"44c2f10f",null),b=v.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-steps",{attrs:{active:e.active,"align-center":""}},[a("el-step",{attrs:{title:"Step 1",description:"Personal Information\n"}}),a("el-step",{attrs:{title:"Step 2",description:"Vechicle Information\n"}}),a("el-step",{attrs:{title:"Step 3",description:"Documents"}}),a("el-step",{attrs:{title:"Step 4",description:"Reviewing in progress\n\n"}})],1),2==e.active?a("Documents"):e._e(),0==e.active?a("PersonalInformation"):e._e(),1==e.active?a("VehicleInformation"):e._e(),3==e.active?a("el-row",{staticStyle:{padding:"50px"}},[a("h2",[e._v("We're reviewing your information.")]),a("h4",{staticStyle:{"margin-top":"20px"}},[e._v(" Vite Driver Profile Created ")]),a("h3",{staticStyle:{"margin-top":"20px"}},[e._v(" Vite Driver Screening ongoing ")]),a("p",[e._v(" Usually takes 1-3 days but may extend to a week as approval is done in batches. Our team is reviewing your background information and will grant approval afterwards. ")]),a("h3",[e._v(" Access Dashboard and Driver App & Start Earning ")])]):e._e(),3!=e.active?a("el-button",{staticClass:"float-right",staticStyle:{"margin-top":"12px"},attrs:{type:"primary"},on:{click:e.next}},[e._v("Next step")]):e._e(),0!=e.active?a("el-button",{staticClass:"float-left",staticStyle:{"margin-top":"12px"},attrs:{type:"warning"},on:{click:e.back}},[e._v("Back")]):e._e(),a("br"),a("br")],1)},y=[],C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Manufacturer...",rules:e.requiredRules},model:{value:e.formValues.manufacturer,callback:function(t){e.$set(e.formValues,"manufacturer",t)},expression:"formValues.manufacturer"}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Modal...",rules:e.requiredRules},model:{value:e.formValues.modelName,callback:function(t){e.$set(e.formValues,"modelName",t)},expression:"formValues.modelName"}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Manufacture Year...",rules:e.requiredRules},model:{value:e.formValues.modelYear,callback:function(t){e.$set(e.formValues,"modelYear",t)},expression:"formValues.modelYear"}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Color...",rules:e.requiredRules},model:{value:e.formValues.vehicleColor,callback:function(t){e.$set(e.formValues,"vehicleColor",t)},expression:"formValues.vehicleColor"}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"License Plate...",rules:e.requiredRules},model:{value:e.formValues.licensePlateNumber,callback:function(t){e.$set(e.formValues,"licensePlateNumber",t)},expression:"formValues.licensePlateNumber"}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"No. of Seats...",rules:e.requiredRules},model:{value:e.formValues.numberOfSeats,callback:function(t){e.$set(e.formValues,"numberOfSeats",t)},expression:"formValues.numberOfSeats"}})],1)],1),a("el-button",{attrs:{type:"primary",loading:e.showLoading},on:{click:e.updateData}},[e._v("Update")])],1)},j=[];a("8e6e"),a("ac6a"),a("456d");function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=h.firestore(),D=O.collection("vehicles"),x={props:{actionData:{type:Object,default:function(){return{manufacturer:"",modelName:"",modelYear:"",licensePlateNumber:"",vehicleColor:"",numberOfSeats:""}}}},data:function(){return{formValues:{},showLoading:!1,requiredRules:[function(e){return!!e||"This is required"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},created:function(){var e=this;this.authUser=JSON.parse(localStorage.getItem("authUser")),""!=this.actionData.manufacturer&&""!=this.actionData.modelName&&""!=this.actionData.modelYear&&""!=this.actionData.licensePlateNumber&&""!=this.actionData.vehicleColor&&""!=this.actionData.numberOfSeats?this.formValues=k({},this.actionData):(h.firestore().collection("vehicles").doc(this.authUser.driverId).get().then((function(t){e.formValues=k({},t.data()),e.showLoading=!1})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}})),this.formValues=JSON.parse(localStorage.getItem("authUser")))},methods:{updateData:function(){var e=this;Mt.$emit("loading","show"),this.showLoading=!0,D.doc(this.authUser.driverId).update(this.formValues).then((function(){Mt.$emit("loading","hide"),Mt.$emit("successMessage","Updated Successful"),e.$emit("refresh")})).catch((function(t){console.log("ðŸš€ ~ file: Vehicle.vue ~ line 263 ~ updateData ~ error",t),e.showLoading=!1,Mt.$emit("loading","hide")}))}}},S=x,L=Object(g["a"])(S,C,j,!1,null,"a12c43d0",null),P=L.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:8}},[a("el-input",{attrs:{type:"text",placeholder:"First Name",rules:e.requiredRules},model:{value:e.formValues.driverFirstName,callback:function(t){e.$set(e.formValues,"driverFirstName",t)},expression:"formValues.driverFirstName"}})],1),a("el-col",{attrs:{md:8}},[a("el-input",{attrs:{type:"text",placeholder:"Last Name",rules:e.requiredRules},model:{value:e.formValues.driverLastName,callback:function(t){e.$set(e.formValues,"driverLastName",t)},expression:"formValues.driverLastName"}})],1),a("el-col",{attrs:{md:8}},[a("el-input",{attrs:{type:"email",placeholder:"Email",rules:e.emailRules},model:{value:e.formValues.driverEmail,callback:function(t){e.$set(e.formValues,"driverEmail",t)},expression:"formValues.driverEmail"}})],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:12}},[a("el-input",{attrs:{type:"text",placeholder:"Date Of Birth (MM/DD/YYYY)",rules:e.requiredRules},model:{value:e.formValues.driverDob,callback:function(t){e.$set(e.formValues,"driverDob",t)},expression:"formValues.driverDob"}})],1),a("el-col",{attrs:{md:12}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("h4",[e._v("Gender:")])]),e._l(["Male","Female"],(function(t,s){return a("el-col",{key:s,attrs:{span:6}},[a("el-button",{attrs:{type:e.formValues.driverGender===t?"primary":""},on:{click:function(a){e.formValues.driverGender=t}}},[e._v(e._s(t))])],1)}))],2)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{type:"textarea",rows:3,rules:e.requiredRules,placeholder:"Please input"},model:{value:e.formValues.driverHomeAddress,callback:function(t){e.$set(e.formValues,"driverHomeAddress",t)},expression:"formValues.driverHomeAddress"}})],1)],1),a("el-row",{staticClass:"mt-2",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-button",{staticClass:"float-right",attrs:{type:"warning"},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateData()}}},[e._v(" Save ")])],1)],1)],1)},I=[];function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=h.firestore(),T=E.collection("drivers"),$={props:{actionData:{type:Object,default:function(){return{driverFirstName:"",driverLastName:"",driverEmail:"",driverGender:"",driverHomeAddress:"",driverPhoneNumber:"",driverDob:""}}}},data:function(){return{formValues:{},requiredRules:[function(e){return!!e||"This is required"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},created:function(){""!=this.actionData.driverFirstName&&""!=this.actionData.driverLastName&&""!=this.actionData.driverEmail&&""!=this.actionData.driverGender&&""!=this.actionData.driverHomeAddress&&""!=this.actionData.driverPhoneNumber&&""!=this.actionData.driverDob?this.formValues=V({},this.actionData):this.formValues=JSON.parse(localStorage.getItem("authUser"))},methods:{updateData:function(){var e=this;Mt.$emit("loading","show"),T.doc(this.actionData.driverId).update(this.formValues).then((function(){Mt.$emit("loading","hide"),Mt.$emit("successMessage","Successfully Updated Your Information."),e.$emit("refresh")})).catch((function(){Mt.$emit("loading","hide"),Mt.$emit("errorMessage","Something went wrong.")}))}}},M=$,R=(a("1b7b"),Object(g["a"])(M,N,I,!1,null,"1f2ab0f4",null)),A=R.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Documents")]),a("el-row",{attrs:{gutter:20}},e._l(e.documents,(function(t,s){return a("el-col",{key:s,attrs:{md:8}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:12}},[a("div",{staticClass:"o-card-title-3"},[e._v(" "+e._s(t.title)+" ")])]),a("el-col",{attrs:{md:12}},[a("div",{staticClass:"o-card-title-3"},[a("el-button",{staticClass:"float-right",attrs:{icon:"el-icon-edit",circle:""},on:{click:function(a){return e.openImageDialog(t,"isProfile")}}})],1)])],1),a("br"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-image",{staticClass:"height-250",attrs:{src:e.authUser[t.value],fit:"fit"}},[a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" Loading"),a("span",{staticClass:"dot"},[e._v("...")])])])],1)],1)],1)],1)})),1),a("br"),a("el-row",{attrs:{gutter:20}},e._l(e.vehicleDocs,(function(t,s){return a("el-col",{key:s,attrs:{md:8}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:12}},[a("div",{staticClass:"o-card-title-3"},[e._v(" "+e._s(t.title)+" ")])]),a("el-col",{attrs:{md:12}},[a("div",{staticClass:"o-card-title-3"},[a("el-button",{staticClass:"float-right",attrs:{icon:"el-icon-edit",circle:""},on:{click:function(a){return e.openImageDialog(t,"isVehicle")}}})],1)])],1),a("br"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-image",{staticClass:"height-250",attrs:{src:e.vehicleDetail[t.value]?e.vehicleDetail[t.value]:e.vehicleDetail[t.nextValue],fit:"fit"}},[a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" Loading"),a("span",{staticClass:"dot"},[e._v("...")])])])],1)],1)],1)],1)})),1),e.imageDialog?a("image-upload",{attrs:{resize:!1,title:e.title},on:{close:function(t){e.imageDialog=!1},imageName:function(t){e.imageName=t},input:e.updateProfileImage},model:{value:e.imageName,callback:function(t){e.imageName=t},expression:"imageName"}}):e._e()],1)},z=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title||"Upload Image",visible:e.dialog,width:"50%","before-close":e.close},on:{"update:visible":function(t){e.dialog=t}}},[a("el-row",{attrs:{gutter:20}},[e.showImg&&!e.showCroppie?a("el-col",{attrs:{span:24}},[a("el-image",{staticStyle:{width:"100%",height:"250"},attrs:{src:e.cropped,fit:"contain"}})],1):e._e(),e.showCroppie?a("el-col",{attrs:{span:24}},[a("cropper",{ref:"croppieRef",staticClass:"cropper",attrs:{src:e.image},on:{change:e.cropChange}})],1):e._e(),e.image||e.showCroppie?e._e():a("el-col",{staticClass:"text-center",attrs:{span:24}},[a("i",{staticClass:"fal fa-upload"}),a("div",{staticClass:"grey--text"},[e._v(" Browse Image from here ")])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("input",{ref:"image",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:e.upload}}),a("el-button",{on:{click:e.close}},[e._v("Cancel")]),!e.cropStatus&&e.showCroppie?a("el-button",{attrs:{type:"success"},on:{click:e.crop}},[e._v("Crop")]):e._e(),e.cropped?a("el-button",{attrs:{type:"success"},on:{click:e.update}},[e._v("Update")]):e._e(),e.image?a("el-button",{attrs:{type:"primary",text:""},on:{click:e.reset}},[e._v("Reset")]):a("el-button",{attrs:{type:"warning"},on:{click:e.pickFile}},[e._v("Browse")])],1)],1)},B=[],Y=(a("34ef"),a("4917"),a("28a5"),a("7399")),J=(a("dee1"),a("a2c1"));a("f7aa");s["default"].use(Y["a"]);var W={components:{Cropper:J["a"]},props:{cover:{type:Boolean,default:!1},profile:{type:Boolean,default:!1},hideOverlay:{type:Boolean,default:!1},title:{type:String,default:null},viewPort:{type:Object,default:function(){return{width:"100%",height:400}}},optionsSize:{type:String,default:"original"}},data:function(){return{dialog:!0,image:"",showCroppie:!1,cropped:"",cropStatus:!1,showImg:!1,file:"",fileName:"",options:{format:"jpeg",circle:!1,size:this.optionsSize},checkbox:!0}},computed:{getViewPort:function(){return this.cover?{width:"100%",height:300,type:"square"}:this.profile?{width:200,height:200,type:"circle"}:{width:this.viewPort.width,height:this.viewPort.height,type:"square"}}},methods:{pickFile:function(){this.$refs.image.click()},cropChange:function(e){e.coordinates;var t=e.canvas;this.cropped=t.toDataURL()},upload:function(e){var t=this;if("svg"!==e.target.files[0].name.split(".").pop()){var a=new FileReader;this.fileName=e.target.files[0].name,a.readAsDataURL(e.target.files[0]),this.showCroppie=!0,a.onload=function(){t.image=a.result,t.file=e.target.files,e.target.value=null}}else this.setSnackBar({text:"SVG image not allowed here.",color:"red"})},crop:function(){this.showCroppie=!1,this.cropStatus=!1,this.showImg=!0},close:function(){this.dialog=!1,this.$emit("close"),this.reset()},update:function(){this.$emit("croppedImage",this.dataURLtoBlob(this.cropped)),this.$emit("imageName",this.fileName),this.$emit("base64Data",this.cropped),this.$emit("input",this.dataURLtoBlob(this.cropped)),this.$emit("actualFile",this.file),this.dialog=!1,this.reset()},dataURLtoBlob:function(e){var t=e.split(","),a=t[0].match(/:(.*?);/)[1],s=atob(t[1]),i=s.length,r=new Uint8Array(i);while(i--)r[i]=s.charCodeAt(i);var o=new Blob([r],{type:a});return o.name=this.fileName,o},result:function(e){this.cropped=e},reset:function(){this.cropped=null,this.cropStatus=!1,this.showImg=!1,this.showCroppie=!1,this.image="",this.file="",this.fileName=""}}},H=W,G=(a("b107"),Object(g["a"])(H,q,B,!1,null,null,null)),X=G.exports;a("588e");function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=h.firestore(),ee=Q.collection("vehicles"),te=Q.collection("drivers"),ae={components:{ImageUpload:X},data:function(){return{title:"",openProfileEditForm:!1,authUser:{},vehicleDetail:{},imageDialog:!1,imageUrl:"",imageName:"",currentFile:"",currentIndex:0,formValues:{},documents:[{title:"Driver Photo",value:"driverAvatarUrl",name:"profilePhoto",src:"https://cdn.vuetifyjs.com/images/cards/store.jpg"},{title:"National Id",value:"driverIDUrl",name:"driver_id",src:"https://cdn.vuetifyjs.com/images/cards/store.jpg"},{title:"Driver License",value:"driverLicenseUrl",name:"driver_license",src:"https://cdn.vuetifyjs.com/images/cards/store.jpg"}],currentValue:[],loading:!1,vehicleDocs:[{title:"Vehicle Photo",value:"vehicleAvatarUrl",path:"vehicles/",src:"https://cdn.vuetifyjs.com/images/cards/store.jpg"},{title:"PSV Taxi License",value:"vehicleLicenseUrl",nextValue:"vehicleLicense",path:"vehicleLicense/",src:"https://cdn.vuetifyjs.com/images/cards/store.jpg"},{title:"Proof of Insurance",value:"proofOfInsuranceUrl",path:"vehiclesdocs/",src:"https://cdn.vuetifyjs.com/images/cards/store.jpg"}],currentType:"",items:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"Documents",disabled:!0,href:"breadcrumbs_link_1"}],currentName:"",currentPath:""}},created:function(){this.authUser=JSON.parse(localStorage.getItem("authUser")),this.getVechicleInfo()},methods:{openImageDialog:function(e,t){this.title=e.title,this.imageDialog=!0,this.currentValue=e.value,this.currentType=t,this.currentName=e.name,this.currentPath=e.path},getVechicleInfo:function(){var e=this;Mt.$emit("loading","show"),h.firestore().collection("vehicles").doc(this.authUser.driverId).get().then((function(t){Mt.$emit("loading","hide"),e.vehicleDetail=K({},t.data())})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}})).finally((function(){return Mt.$emit("loading","hide")}))},updateProfileImage:function(e){this.imageUrl=URL.createObjectURL(e),this.imageDialog=!1,"isProfile"===this.currentType?this.updateDriversImage(e,this.currentValue,this.currentName):this.updateVechicleDocs(e,this.currentValue,this.currentPath)},updateDriversImage:function(e,t,a){var s=this;Mt.$emit("loading","show"),h.storage().ref("/drivers/"+this.authUser.driverId+"/"+a).put(e,{contentType:"image/jpg"}).then((function(e){e.ref.getDownloadURL().then((function(e){te.doc(s.authUser.driverId).update(Object(o["a"])({},t,e)).then((function(e){Mt.$emit("loading","hide"),Mt.$emit("successMessage","Successfully Updated"),s.driversInfo()}))}))})).finally((function(){s.loading=!1}))},driversInfo:function(){var e=this;Mt.$emit("loading","show"),h.firestore().collection("drivers").doc(this.authUser.driverId).get().then((function(t){e.$nextTick((function(){localStorage.setItem("authUser",JSON.stringify(t.data())),e.authUser=JSON.parse(localStorage.getItem("authUser"))}))})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}})).finally((function(){return Mt.$emit("loading","hide")}))},updateVechicleDocs:function(e,t,a){var s=this;this.loading||(this.loading=!0,h.storage().ref(a+this.authUser.driverId).put(e,{contentType:"image/jpg"}).then((function(e){e.ref.getDownloadURL().then((function(e){ee.doc(s.authUser.driverId).update(Object(o["a"])({},t,e)).then((function(e){s.setNotifyMessage("Successfully Upload docs"),s.getVechicleInfo()}))}))})).finally((function(){s.loading=!1})))}}},se=ae,ie=(a("e58f"),Object(g["a"])(se,F,z,!1,null,"bd80670c",null)),re=ie.exports,oe=h.firestore(),ne=(oe.collection("drivers"),{components:{VehicleInformation:P,PersonalInformation:A,Documents:re},data:function(){return{active:0}},methods:{next:function(){this.active++>3&&(this.active=4)},back:function(){this.active-=this.active}}}),le=ne,ce=(a("d322"),Object(g["a"])(le,w,y,!1,null,"1673a081",null)),de=ce.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sidebar-container"},[s("el-menu",{staticClass:"sidebar-menu",attrs:{"default-active":"0",collapse:e.isCollapsed,"collapse-transition":!0,router:!0}},[e.isCollapsed?e._e():s("span",{staticClass:"navbar-logo",on:{click:function(t){return e.followLink("/dashboard")}}},[s("div",{staticClass:"horizontal-centered"},[s("img",{attrs:{src:a("0021"),alt:"Viteapp"}})])]),e.isCollapsed?s("span",{staticClass:"navbar-logo-collapsed horizontal-centered",on:{click:function(t){return e.followLink("/dashboard")}}},[s("router-link",{staticClass:"horizontal-centered",attrs:{to:"/dashboard"}},[s("img",{attrs:{height:"40",src:a("0021"),alt:"Viteapp Icon"}})])],1):e._e(),e._l(e.links,(function(t,a){return s("el-menu-item",{key:a,class:["sidebar-link",{"is-active":e.checkActivePath(t)}],attrs:{index:e.currentUrl},on:{click:function(a){return e.followLink(t.targetPage)}}},[s("i",{staticClass:"spaced",class:t.icon}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.displayName))])])}))],2),s("div",{staticClass:"sidebar-toggle",class:{},on:{click:function(t){return e.toggleSideBar()}}},[e.isCollapsed?e._e():s("i",{staticClass:"arrow fal fa-angle-left"}),e.isCollapsed?s("i",{staticClass:"arrow fal fa-angle-right"}):e._e()]),s("div",{staticClass:"sidebar-hamburger",on:{click:e.mobileSidebarToggle}},[s("i",{staticClass:"fal fa-bars"})])],1)},he=[],fe={name:"sidebar",props:["selectedLink"],data:function(){return{isClicked:!0,intViewportWidth:window.innerWidth,isCollapsed:!1,links:[{name:"Dashboard",displayName:"Dashboard",targetPage:"/dashboard",icon:"fal fa-th-large"},{name:"Vehicle Information",displayName:"Vehicle",targetPage:"/vehicle",icon:"fal fa-car-side"},{name:"Documents",displayName:"Documents",targetPage:"/documents",icon:"fal fa-folders"}],filteredLinks:[],userRole:null,currentUrl:"/dashboard"}},computed:{isTablet:function(){return this.intViewportWidth<=1200}},mounted:function(){this.handleWidthSize()},created:function(){window.innerWidth<1600&&(this.isCollapsed=!0),this.checkRoute()},watch:{$route:"checkRoute"},methods:{mobileSidebarToggle:function(){var e=document.getElementsByClassName("sidebar-menu");document.getElementsByClassName("sidebar-menu");this.isClicked?(e[0].style.display="block",this.isClicked=!1):(e[0].style.display="none",this.isClicked=!0)},checkRoute:function(){this.currentUrl=this.$route.path},checkActivePath:function(e){return this.currentUrl==e.targetPage},handleWidthSize:function(){var e=this;window.addEventListener("resize",(function(){e.intViewportWidth=window.innerWidth,e.isTablet||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?e.isCollapsed=!0:e.isCollapsed=!1}))},toggleSideBar:function(){this.isCollapsed=!this.isCollapsed,Mt.$emit("sidebarChange")},followLink:function(e){this.$router.push(e)}}},pe=fe,me=(a("da1d"),Object(g["a"])(pe,ue,he,!1,null,"44192d22",null)),ge=me.exports,ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app-footer"}},[s("div",{staticClass:"footer-links"}),s("a",[s("img",{attrs:{width:"90px",src:a("4ffd"),alt:"logo"},on:{click:function(t){return e.$router.push("/dashboard")}}})]),s("div",{staticClass:"all-rights"},[e._v("Â© "+e._s(e.currentYear)+" Viteapp. All Rights Reserved.")])])},be=[],we={name:"appFooter",data:function(){return{currentYear:(new Date).getFullYear()}},methods:{}},ye=we,Ce=(a("28a5e"),Object(g["a"])(ye,ve,be,!1,null,"714bae13",null)),je=Ce.exports,_e=Object(o["a"])({name:"index",components:{navbar:b,sidebar:ge,AdditionDetails:de,appFooter:je},data:function(){return{dialogVisible:!1,sidebarMinimized:!1,currentPageTitle:"Login",successTitle:"Success",errorTitle:"Error",warningTitle:"Warning",infoTitle:"Info",successMessage:"",errorMessage:"",warningMessage:"",infoMessage:"",successImage:"far fa-check",errorImage:"fal fa-exclamation-circle",warningImage:"fal fa-exclamation-triangle",infoImage:"fal fa-info-circle",duplicate:!1,loading:0,hideSidebarPages:["Login"],hideNavbarPages:["Login"],hideFooterPages:["Login"]}},computed:{displaySidebar:function(){return-1==this.hideSidebarPages.indexOf(this.currentPageTitle)},displayNavbar:function(){return-1==this.hideNavbarPages.indexOf(this.currentPageTitle)},displayFooter:function(){return-1==this.hideFooterPages.indexOf(this.currentPageTitle)}},watch:{$route:function(e,t){Mt.$emit("loading","hide")}},created:function(){this.getUser(),this.currentPageTitle=this.$route.name,Mt.$on("successMessage",this.displaySuccessMessage),Mt.$on("errorMessage",this.displayErrorMessage),Mt.$on("infoMessage",this.displayInfoMessage),Mt.$on("warningMessage",this.displayWarningMessage),Mt.$on("loading",this.displayLoading),Mt.$on("sidebarChange",this.toggleSidebar)},methods:{toggleSidebar:function(){0==this.sidebarMinimized?this.sidebarMinimized=!0:1==this.sidebarMinimized&&(this.sidebarMinimized=!1)},getUser:function(){var e=localStorage.getItem("authUser")?JSON.parse(localStorage.getItem("authUser")):null;e?"pending"===e.driverStatus&&(this.dialogVisible=!0):this.$router.push("/login")},handleClose:function(e){this.$confirm("Are you sure to you want to close?").then((function(t){e()})).catch((function(e){}))},displaySuccessMessage:function(e,t){var a=this;this.successMessage=e,t&&(this.successTitle=t),setTimeout((function(){a.successMessage="",a.successTitle="Success",a.duplicate=!1}),3e3)},displayErrorMessage:function(e,t){var a=this;this.errorMessage=e,t&&(this.errorTitle=t),setTimeout((function(){a.errorMessage="",a.errorTitle="Error"}),3e3)},displayInfoMessage:function(e,t){var a=this;this.infoMessage=e,t&&(this.infoTitle=t),setTimeout((function(){a.infoMessage="",a.infoTitle="Info"}),3e3)},displayWarningMessage:function(e,t){var a=this;this.warningMessage=e,t&&(this.warningTitle=t),setTimeout((function(){a.warningMessage="",a.warningTitle="Warning"}),3e3)},displayLoading:function(e){var t=0;return"show"==e&&++t,"hide"==e&&t--,this.loading=t}}},"watch",{$route:function(e,t){this.currentPageTitle=e.name}}),ke=_e,Oe=(a("0fc8"),Object(g["a"])(ke,i,r,!1,null,null,null)),De=Oe.exports,xe=a("2f62");s["default"].use(xe["a"]);var Se,Le,Pe=new xe["a"].Store({state:{Sidebar_drawer:null,Customizer_drawer:!1,SidebarColor:"white",SidebarBg:"",navbarColor:"primary",setHorizontalLayout:!1,notify:{color:"green",message:"",display:""},showOverlay:!1},mutations:{SET_SIDEBAR_DRAWER:function(e,t){e.Sidebar_drawer=t},SET_CUSTOMIZER_DRAWER:function(e,t){e.Customizer_drawer=t},SET_SIDEBAR_COLOR:function(e,t){e.SidebarColor=t},SET_NAVBAR_COLOR:function(e,t){e.navbarColor=t},SET_LAYOUT:function(e,t){e.setHorizontalLayout=t},setNotifyMessage:function(e,t){e.notify={display:!0,color:"green",message:t}},setNotifyError:function(e,t){e.notify={display:!0,color:"red",message:t}},setShowOverlay:function(e,t){e.showOverlay=t}},actions:{},getters:{getNotifyMessage:function(e){return e.notify},getShowOverLay:function(e){return e.showOverlay}}}),Ne=a("8c4f"),Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dashboard-container"}},[a("el-row",{attrs:{gutter:20}},[e._l(e.earningsInformation,(function(t,s){return a("el-col",{key:s,attrs:{md:6,sm:24}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" "+e._s(t.title)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},["Trips Total"===t.title?a("span",[e._v(" "+e._s(e.tripsTotal)+" ")]):"My Earnings"===t.title?a("span",[e._v(" "+e._s(e.myEarning)+" ")]):a("span",[e._v(" "+e._s(e.viteFees)+" ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{class:t.icon})])])],1)],1)],1)})),a("el-col",{attrs:{md:6,sm:24}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",e._l(e.ratingInformation,(function(t,s){return a("el-col",{key:s,attrs:{span:12}},[a("div",{staticClass:"o-card-title-3 text-center"},[e._v(" "+e._s(t.title)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data text-center"},[e._v(" "+e._s(e.authUser[t.value]||"-")+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader text-center"},[a("i",{staticClass:"el-icon-loading"})])])})),1)],1)],1)],2),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:12,sm:24}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Trips Information ")]),a("bar-chart",{attrs:{"chart-data":e.chartData,"display-legend":""}})],1)],1),a("el-col",{attrs:{md:12,sm:24}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Trips Information ")]),a("br"),a("el-row",{attrs:{gutter:20}},e._l(e.tripsInformation,(function(t,s){return a("el-col",{key:s,attrs:{md:12,sm:24}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("div",{staticClass:"o-card-title-3 text-center"},[e._v(" "+e._s(t.title)+" ")]),a("div",{staticClass:"o-card-data text-center"},[e._v(" "+e._s(e.authUser[t.value]||"-")+" ")])])],1)})),1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("trip-history")],1)],1)],1)},Ue=[],Ve=(a("8615"),a("1fca")),Ee={extends:Ve["a"],props:{chartData:{type:Object,required:!0},chartTitle:{type:String,default:""},displayLegend:{type:Boolean,default:!1},options:{type:Object,default:function(){return{responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:50,right:50,top:30,bottom:20}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{display:!1},title:{display:!0,text:""}}}}},mounted:function(){this.displayLegend&&(this.options.legend.display=!0),this.options.title.text=this.chartTitle,this.options.onClick=this.handle,this.renderChart(this.chartData,this.options)},methods:{handle:function(e,t){if(t&&t.length>0){var a=t[0];this.$emit("click",a._index)}}}},Te=Ee,$e=Object(g["a"])(Te,Se,Le,!1,null,null,null),Me=$e.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Trip History ")])]),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Search Trips...",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tripFilterData,stripe:""}},[a("el-table-column",{attrs:{label:"Date"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.parentDate)+" ")]}}])}),a("el-table-column",{attrs:{label:"Rider"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.user?t.row.user.userFullName:"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"Ride Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.rideStatus)+" ")]}}])}),a("el-table-column",{attrs:{label:"Pickup"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.pickUpLocation?t.row.pickUpLocation.itemTitle:"")+" ")]}}])}),a("el-table-column",{attrs:{label:"Dropoff"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.pickUpLocation?t.row.pickUpLocation.itemTitle:"")+" ")]}}])}),a("el-table-column",{attrs:{label:"Total Price"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.finalPrice)+" ")]}}])}),a("el-table-column",{attrs:{label:"Earning"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.my_earnings)+" ")]}}])}),a("el-table-column",{attrs:{label:"Vite Fee"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.vite_fees)+" ")]}}])})],1)],1)],1)],1)],1)},Ae=[];a("386d"),a("6762"),a("2fdb");function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var qe=h.firestore(),Be=qe.collection("driverHistories"),Ye=qe.collection("dailyEarnings"),Je={data:function(){return{tripsDetail:{},tripsInfo:[],dailyEarningDetail:{},authUser:{},search:""}},computed:{tripHistory:function(){return Object.values(this.tripsDetail).filter((function(e){return e.parentDate}))},tripFilterData:function(){var e=this;return this.tripsInfo.filter((function(t){return t.parentDate.includes(e.search)&&t.user&&t.user.userFullName.toLowerCase().includes(e.search.toLowerCase())&&t.pickUpLocation.itemTitle.includes(e.search)&&t.dropOffLocation.itemTitle.includes(e.search)&&t.finalPrice&&t.finalPrice.includes(e.search)&&t.my_earnings&&t.my_earnings.includes(e.search)&&t.vite_fees&&t.vite_fees.includes(e.fsearch)}))}},created:function(){this.authUser=JSON.parse(localStorage.getItem("authUser")),this.getTripHistory(),this.getDailyEarnings()},methods:{getTripHistory:function(){var e=this;Be.doc(this.authUser.driverId).get().then((function(t){e.tripsDetail=ze({},t.data());var a=Object.values(e.tripsDetail);a.forEach((function(t,a){t.finalPrice&&(console.log(t.finalPrice),e.tripsInfo.push(ze(ze({},t),{},{my_earnings:"".concat(Math.ceil(t.finalPrice-.1*t.finalPrice)),vite_fees:"".concat(Math.ceil(.1*t.finalPrice))})))}))})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}))},getDailyEarnings:function(){var e=this;Ye.doc(this.authUser.driverId).get().then((function(t){e.dailyEarningDetail=ze({},t.data())})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}))}}},We=Je,He=Object(g["a"])(We,Re,Ae,!1,null,null,null),Ge=He.exports,Xe=h.firestore(),Ze=Xe.collection("dailyEarnings"),Ke={name:"dashboard",components:{BarChart:Me,TripHistory:Ge},data:function(){return{showLoading:!1,earningsInformation:[{title:"Trips Total",value:"totalTrips",icon:"fal fa-suitcase-rolling"},{title:"My Earnings",value:"totalEarnings",icon:"fal fa-sack-dollar"},{title:"Vite Fee",value:"",icon:"fal fa-comment-dollar"}],ratingInformation:[{title:"Five Star",value:"fiveStarTrips"},{title:"Current",value:"ratedTrips"}],tripsInformation:[{title:"Total",value:"totalTrips"},{title:"Accepted",value:"acceptedTrips"},{title:"No Show",value:"noShowTrips"},{title:"Missed",value:"missedTrips"},{title:"Cancelled",value:"canceledTrips"}],chartData:{labels:["Status"],datasets:[{label:"Total Trips",value:"totalTrips",backgroundColor:"blue",borderColor:"#716ACA",data:[]},{label:"Accepted",value:"acceptedTrips",backgroundColor:"green",borderColor:"#716ACA",data:[]},{label:"No Show Trips",value:"noShowTrips",backgroundColor:"orange",borderColor:"#716ACA",data:[]},{label:"Missed",value:"missedTrips",backgroundColor:"red",borderColor:"#716ACA",data:[]},{label:"Canceled",backgroundColor:"grey",value:"canceledTrips",borderColor:"#716ACA",data:[]}]},dailyEarningDetail:{total_earnings:0}}},computed:{totalPrice:function(){return Object.values(this.dailyEarningDetail).map((function(e){return parseInt(e.total_earnings)||0}))},tripsTotal:function(){return this.totalPrice.reduce(this.sum)},myEarning:function(){return Math.ceil(this.tripsTotal-.1*this.tripsTotal)},viteFees:function(){return Math.ceil(.1*this.tripsTotal)}},created:function(){var e=this;this.authUser=JSON.parse(localStorage.getItem("authUser")),this.getDailyEarnings(),this.$nextTick((function(){e.chartData.datasets.forEach((function(t){t.data.push(e.authUser[t.value])}))}))},methods:{getDailyEarnings:function(){var e=this;this.showLoading=!0,Ze.doc("+23052532760").get().then((function(t){var a=t.data();console.dir(a),e.dailyEarningDetail=a||{total_earnings:0},e.showLoading=!1}))},sum:function(e,t){return e+t}}},Qe=Ke,et=Object(g["a"])(Qe,Ie,Ue,!1,null,"0ebbdfd2",null),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dashboard-container"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("h3",[e._v("Vehicle Information")])]),a("el-col",{attrs:{span:12}},[a("el-button",{staticClass:"float-right",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v(" Edit ")])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Manufacturer ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(e.vehicleDetail.manufacturer)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-car-side"})])])],1)],1)],1),a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Model Name ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(e.vehicleDetail.modelName)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-car-alt"})])])],1)],1)],1),a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Model year ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(e.vehicleDetail.modelYear)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-calendar-day"})])])],1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" License Number ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(e.vehicleDetail.licensePlateNumber)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-id-badge"})])])],1)],1)],1),a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Vehicle Color ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(e.vehicleDetail.vehicleColor)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-paint-brush"})])])],1)],1)],1),a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" No of Seats ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(e.vehicleDetail.numberOfSeats)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-loveseat"})])])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"Update Vehicle Information",visible:e.dialogFormVisible,width:"70%",center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("VehicleInformation",{attrs:{title:"Update Your Details","action-data":e.vehicleDetail},on:{close:function(t){e.dialogFormVisible=!1},refresh:function(t){e.getVechicleInfo(),e.dialogFormVisible=!1}}})],1)],1)},st=[];function it(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?it(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):it(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ot=h.firestore(),nt=ot.collection("vehicles"),lt={components:{VehicleInformation:P},data:function(){return{dialogFormVisible:!1,showLoading:!1,vehicleDetail:{manufacturer:"Audi",modelName:"Audi 2020",modelYear:"1998-09-09",licensePlateNumber:"233423",vehicleColor:"Red",numberOfSeats:"6"},formValues:{},requiredRules:[function(e){return!!e||"This is required"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},created:function(){this.authUser=JSON.parse(localStorage.getItem("authUser")),this.formValues=rt({},this.vehicleDetail),this.getVechicleInfo()},methods:{handleClose:function(e){this.$confirm("Are you sure to close this dialog?").then((function(t){e()})).catch((function(e){}))},updateData:function(){var e=this;Mt.$emit("loading","show"),this.showLoading=!0,nt.doc(this.authUser.driverId).update(this.formValues).then((function(){Mt.$emit("loading","hide"),Mt.$emit("successMessage","Updated Successful"),e.dialogFormVisible=!1,e.showLoading=!1})).catch((function(t){console.log("ðŸš€ ~ file: Vehicle.vue ~ line 263 ~ updateData ~ error",t),e.showLoading=!1,Mt.$emit("loading","hide")}))},getVechicleInfo:function(){var e=this;this.showLoading=!0,h.firestore().collection("vehicles").doc(this.authUser.driverId).get().then((function(t){e.vehicleDetail=rt({},t.data()),e.showLoading=!1})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}))}}},ct=lt,dt=(a("512b"),Object(g["a"])(ct,at,st,!1,null,"611dfca2",null)),ut=dt.exports,ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-wrapper"},[s("div",{staticClass:"content"},[s("div",{staticClass:"header"},[s("img",{staticClass:"header-image",attrs:{src:a("0021"),width:"100",alt:"Opiniion"}}),s("div",{staticClass:"header-link-wrapper"},[s("el-link",{staticClass:"header-link",attrs:{href:"http://viteadmin.site/",type:"#FFFFFF",target:"_blank",icon:"fa fa-angle-left"}},[e._v(" Go back to Home")])],1)]),s("el-card",{staticClass:"absolute-centered login-card"},[s("span",{staticClass:"login-header horizontal-centered"},[e._v("Login")]),s("el-input",{attrs:{rules:e.requiredRules,"prefix-icon":"fal fa-mobile",placeholder:"Phone Number (+2301111111111)"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doLogin()}},model:{value:e.formValues.phone_number,callback:function(t){e.$set(e.formValues,"phone_number",t)},expression:"formValues.phone_number"}}),s("el-input",{attrs:{"prefix-icon":"fal fa-key",placeholder:"Password",rules:e.requiredRules,type:"password","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doLogin()}},model:{value:e.formValues.password,callback:function(t){e.$set(e.formValues,"password",t)},expression:"formValues.password"}}),e.loginError?s("div",{staticClass:"error-message"},[e._v(e._s(e.loginError))]):e._e(),s("div",{staticClass:"remember-container flex-space-between"},[s("el-checkbox",{attrs:{checked:e.remember},model:{value:e.remember,callback:function(t){e.remember=t},expression:"remember"}},[e._v("Remember Me")])],1),s("el-button",{staticClass:"login-button",attrs:{type:"primary",round:""},on:{click:e.doLogin}},[e._v("Login")])],1)],1),s("footer",{staticClass:"footer"},[s("div",{staticClass:"login-bottom-nav flex-center"},[s("div",[s("div",{staticClass:"credits ml-auto"},[s("div",{staticClass:"copyright"},[e._v(" Â© "+e._s((new Date).getFullYear())+" Viteapp. All Rights Reserved ")])])])])])])},ft=[],pt=d.a.firestore(),mt=pt.collection("drivers"),gt={name:"login",data:function(){return{error:"",show:!1,valid:!0,lazy:!0,loading:!1,selectedCountry:{name:"Mauritius",dial_code:"+230",code:"MU"},formValues:{},requiredRules:[function(e){return!!e||"This is required"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:"",loginError:null,logoutReason:null,remember:!1}},created:function(){localStorage.removeItem("authUser")},methods:{doLogin:function(){var e=this,t=this;Mt.$emit("loading","show"),t.loginError=null;var a={phone_number:this.formValues.phone_number,password:this.formValues.password};mt.doc(a.phone_number).get().then((function(s){var i=s.data();i?d.a.auth().signInWithEmailAndPassword(i.driverEmail,a.password).then((function(t){Mt.$emit("successMessage","Login Successful"),localStorage.setItem("authUser",JSON.stringify(i)),Mt.$emit("loading","hide"),["incomplete","pending"].includes(i.driverStatus)&&localStorage.setItem("profileStatus","incomplete"),e.$router.push("/dashboard")})).catch((function(e){console.error("Error",e),Mt.$emit("errorMessage","Something Went Wrong"),Mt.$emit("loading","hide")})):(Mt.$emit("loading","hide"),void 0==a.phone_number?t.loginError="Please Enter Phone Number":void 0==a.password?t.loginError="Please Enter Password":Mt.$emit("errorMessage","User Not Found"))}))},isMobile:function(){var e=[window.screen.availHeight*window.devicePixelRatio,window.screen.availWidth*window.devicePixelRatio];return e[0]<1e3&&e[1]<800},setCookie:function(){var e=31536e6,t=new Date,a=t.getTime()+e;this.remember&&(document.cookie="email=".concat(this.email,"; expires=").concat(new Date(a),";"),document.cookie="remember=true; expires=".concat(new Date(a),";")),this.remember||(document.cookie="email=; expires=".concat(new Date(t.getTime()-e),";"),document.cookie="remember=; expires=-1;")}}},vt=gt,bt=(a("b50e"),Object(g["a"])(vt,ht,ft,!1,null,"69d25804",null)),wt=bt.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:18}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("h3",[e._v("Profile")])]),a("el-col",{attrs:{span:8}},[a("el-button",{staticClass:"float-right",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){e.openProfileEditForm=!0}}},[e._v("Edit")])],1)],1),a("el-row",{staticClass:"mt-4",attrs:{gutter:20}},[a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Full Name ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(e.userDetail.driverFirstName+" "+e.userDetail.driverLastName)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-user"})])])],1)],1)],1),a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Phone ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(""+e.userDetail.driverPhoneNumber)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-phone"})])])],1)],1)],1),a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Email ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(""+e.userDetail.driverEmail)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-user"})])])],1)],1)],1)],1),a("el-row",{staticClass:"mt-4",attrs:{gutter:20}},[a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Address ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(""+e.userDetail.driverHomeAddress)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-globe-europe"})])])],1)],1)],1),a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Gender ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(""+e.userDetail.driverGender)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-venus-mars"})])])],1)],1)],1),a("el-col",{attrs:{md:8}},[a("el-card",{staticClass:"box-card clickable",attrs:{shadow:"hover"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"o-card-title-3"},[e._v(" Date of Birth ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoading,expression:"!showLoading"}],staticClass:"o-card-data"},[e._v(" "+e._s(""+e.userDetail.driverDob)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"dashboard-row dashboard-loader"},[a("i",{staticClass:"el-icon-loading"})])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"o-card-icon"},[a("i",{staticClass:"fal fa-calendar-star"})])])],1)],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"Update Your Details",visible:e.openProfileEditForm,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.openProfileEditForm=t}}},[a("personal-information",{attrs:{"action-data":e.userDetail},on:{close:function(t){e.openProfileEditForm=!1},refresh:e.refreshData}})],1)],1)},Ct=[],jt={components:{PersonalInformation:A},data:function(){return{showLoading:!1,openProfileEditForm:!0,userDetail:{first_name:"Dipesh",last_name:"Basnet",dob:"1998-09-09",home_address:"Jhapa",phone_number:"9292929939",email:"bdipesh08@gmail.com",gender:"Male"}}},created:function(){this.authUser=JSON.parse(localStorage.getItem("authUser")),this.userDetail=this.authUser;var e=new Date(Date.UTC(1970,0,1));e.setUTCSeconds(this.authUser.driverDob.seconds),this.userDetail.driverDob="".concat(e.getDate(),"-").concat(e.getMonth(),"-").concat(e.getUTCFullYear())},methods:{refreshData:function(){var e=this;this.showLoading=!0,this.openProfileEditForm=!1,firebase.firestore().collection("drivers").doc(this.authUser.driverId).get().then((function(t){e.userDetail=t.data(),e.$nextTick((function(){localStorage.setItem("authUser",JSON.stringify(t.data())),e.authUser=JSON.parse(localStorage.getItem("authUser"))}))})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}})).finally(this.showLoading=!1)},handleClose:function(e){this.$confirm("Are you sure to close this dialog?").then((function(t){e()})).catch((function(e){}))}}},_t=jt,kt=(a("f8ca"),Object(g["a"])(_t,yt,Ct,!1,null,"340a6175",null)),Ot=kt.exports;s["default"].use(Ne["a"]);var Dt=new Ne["a"]({mode:"history",routes:[{path:"/dashboard",name:"Dashboard",component:tt},{path:"/login",name:"Login",component:wt},{path:"/vehicle",name:"Vehicle",component:ut},{path:"/documents",name:"Documents",component:re},{path:"/profile",name:"Profile",component:Ot},{path:"/*",redirect:"/login"}]}),xt=a("5c96"),St=a.n(xt),Lt=(a("126e"),a("b2d6")),Pt=a.n(Lt),Nt=a("4897"),It=a.n(Nt),Ut=a("0ff26"),Vt=a("bc3a"),Et=a.n(Vt),Tt=a("2106"),$t=a.n(Tt);s["default"].use(Ut["a"]),s["default"].use(St.a),It.a.use(Pt.a),s["default"].use($t.a,Et.a);var Mt=new s["default"];s["default"].config.productionTip=!1;var Rt=new s["default"]({router:Dt,db:h,store:Pe,components:{},render:function(e){return e(De)}});Rt.$mount("#app")},"686d":function(e,t,a){"use strict";a("e37a")},"92d1":function(e,t,a){},"972e":function(e,t,a){},b107:function(e,t,a){"use strict";a("0f87")},b50e:function(e,t,a){"use strict";a("3892")},be2f:function(e,t,a){},c854:function(e,t,a){},d322:function(e,t,a){"use strict";a("2f02")},da1d:function(e,t,a){"use strict";a("20ad")},e37a:function(e,t,a){},e58f:function(e,t,a){"use strict";a("ed11")},ed11:function(e,t,a){},f8ca:function(e,t,a){"use strict";a("be2f")}});
//# sourceMappingURL=app.0811162c.js.map